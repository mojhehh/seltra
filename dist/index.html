<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Seltra - A collection of powerful bookmarklets to enhance your browsing experience. Copy, save, and share useful bookmarklets." />
    <meta name="keywords" content="bookmarklets, javascript, browser tools, productivity" />
    <meta name="author" content="Seltra" />
    <meta name="theme-color" content="#FF6B35" />
    <title>Seltra Bookmarklets</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">

    <script src="https://cdn.tailwindcss.com"></script>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>

    <style>
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        .fade-glow {
            opacity: 0;
            transition: opacity 0.8s ease-in-out 0.75s;
        }

        .fade-glow.show {
            opacity: 1;
        }

        .fade-item {
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.7s ease-in-out, transform 0.7s ease-in-out;
        }

        .fade-item.show {
            opacity: 1;
            transform: translateY(0);
        }

        .glow-top-left {
            position: fixed;
            top: 0;
            left: -50px;
            width: 300px;
            pointer-events: none;
            z-index: -1;
        }

        .glow-top-right {
            position: fixed;
            top: 0;
            right: -50px;
            width: 300px;
            pointer-events: none;
            transform: scaleX(-1);
            z-index: -1;
        }

        .glow-bottom-left {
            position: fixed;
            bottom: 0;
            left: -50px;
            width: 300px;
            pointer-events: none;
            transform: scaleX(-1);
            z-index: -1;
        }

        .glow-bottom-right {
            position: fixed;
            bottom: 0;
            right: -50px;
            width: 300px;
            pointer-events: none;
            z-index: -1;
        }

        .chip {
            transition: all .2s cubic-bezier(.4, 0, .2, 1);
            border: 1px solid rgba(0, 0, 0, 0.04);
            background: white;
            display: inline-flex;
            align-items: center;
            padding: .5rem 1rem;
            border-radius: 999px;
            gap: .5rem;
            font-weight: 500;
        }

        .chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            border-color: rgba(255, 107, 53, 0.3);
        }

        .chip.active {
            background: linear-gradient(135deg, #FF8C42, #FF6B35);
            color: white;
            box-shadow: 0 8px 26px rgba(255, 107, 53, 0.25), 0 0 28px rgba(255, 140, 0, 0.15);
            border-color: transparent;
            transform: translateY(-2px) scale(1.02);
        }

        .underline {
            height: 4px;
            background: linear-gradient(90deg, #FF8C42, #FF6B35);
            border-radius: 999px;
            transition: transform .22s cubic-bezier(.2, .9, .2, 1), width .22s cubic-bezier(.2, .9, .2, 1);
            will-change: transform, width;
        }

        .search-input {
            border-radius: 9999px;
            box-shadow: 0 6px 24px rgba(255, 140, 0, 0.06);
            border: 1px solid rgba(255, 140, 0, 0.12);
            padding-left: 3.5rem;
            transition: all .2s ease;
        }
        
        .search-input:focus {
            box-shadow: 0 8px 32px rgba(255, 140, 0, 0.12);
        }

        .count-badge {
            background: rgba(0, 0, 0, 0.06);
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 12px;
            margin-left: 8px;
        }
        
        .chip.active .count-badge {
            background: rgba(255, 255, 255, 0.25);
        }

        mark.match {
            background: rgba(255, 214, 187, 0.9);
            padding: 0 2px;
            border-radius: 3px;
            color: inherit;
            font-weight: 700;
        }

        .no-scroll::-webkit-scrollbar {
            display: none;
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Button animations */
        .btn-pop {
            transition: all .2s cubic-bezier(.4, 0, .2, 1);
        }
        .btn-pop:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }
        .btn-pop:active {
            transform: translateY(0) scale(0.98);
        }
        
        /* Card hover effects */
        .card-hover {
            transition: all .25s cubic-bezier(.4, 0, .2, 1);
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(255, 107, 53, 0.15);
        }
        
        /* Modal animations */
        @keyframes modal-in {
            from { opacity: 0; transform: scale(0.95) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        .modal-animate {
            animation: modal-in 0.25s cubic-bezier(.4, 0, .2, 1);
        }
        
        /* Shimmer effect for loading */
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #FF8C42, #FF6B35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Pulse animation for AI button */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3); }
            50% { box-shadow: 0 4px 30px rgba(255, 107, 53, 0.5); }
        }
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        /* Floating animation */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .float-anim {
            animation: float 3s ease-in-out infinite;
        }
        
        /* Slide up animation for popup */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slideUp {
            animation: slideUp 0.3s ease-out forwards;
        }
        
        /* Custom Scrollbars */
        * {
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 107, 53, 0.3) transparent;
        }
        
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, rgba(255, 140, 66, 0.4), rgba(255, 107, 53, 0.4));
            border-radius: 10px;
            border: 2px solid transparent;
            background-clip: padding-box;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, rgba(255, 140, 66, 0.7), rgba(255, 107, 53, 0.7));
            background-clip: padding-box;
        }
        
        ::-webkit-scrollbar-thumb:active {
            background: linear-gradient(180deg, #FF8C42, #FF6B35);
            background-clip: padding-box;
        }
        
        ::-webkit-scrollbar-corner {
            background: transparent;
        }
        
        /* Thin scrollbar variant for modals/small areas */
        .scrollbar-thin::-webkit-scrollbar {
            width: 5px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: rgba(255, 107, 53, 0.25);
            border-radius: 10px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 107, 53, 0.5);
        }
        
        /* Hide scrollbar but keep functionality */
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }
        
        /* Selection color */
        ::selection {
            background: rgba(255, 107, 53, 0.3);
            color: inherit;
        }
        ::-moz-selection {
            background: rgba(255, 107, 53, 0.3);
            color: inherit;
        }
    </style>

    <script>
        window.addEventListener("DOMContentLoaded", () => {
            document.body.classList.add("fade-all");
            setTimeout(() => {
                document.body.classList.add("show");
                document.querySelectorAll(".fade-item").forEach(el => el.classList.add("show"));
                document.querySelectorAll(".fade-glow").forEach(el => el.classList.add("show"));
            }, 100);
        });
    </script>
</head>

<body class="bg-orange-50">
    <div id="root"></div>

    <img src="https://raw.githubusercontent.com/mojhehh/seltra/2ad6291b8d372b60fed9482159267066e7dd7bc0/kcM9b4ncj.png" class="glow-top-left fade-glow" alt="glow top left" />
    <img src="https://raw.githubusercontent.com/mojhehh/seltra/2ad6291b8d372b60fed9482159267066e7dd7bc0/kcM9b4ncj.png" class="glow-top-right fade-glow" alt="glow top right" />
    <img src="https://raw.githubusercontent.com/mojhehh/seltra/2ad6291b8d372b60fed9482159267066e7dd7bc0/kcM9b4ncj.png" class="glow-bottom-left fade-glow" alt="glow bottom left" />
    <img src="https://raw.githubusercontent.com/mojhehh/seltra/2ad6291b8d372b60fed9482159267066e7dd7bc0/kcM9b4ncj.png" class="glow-bottom-right fade-glow" alt="glow bottom right" />

    <script>
(()=>{var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:true});const{useState,useEffect,useRef,Component}=React;const globalState={search:"",selectedCategory:"",activeTab:"bookmarklets"};const _ErrorBoundary=class _ErrorBoundary extends Component{constructor(props){super(props);this.state={hasError:false,error:null}}static getDerivedStateFromError(error){return{hasError:true,error}}componentDidCatch(error,errorInfo){console.error("App Error:",error,errorInfo)}render(){if(this.state.hasError){return React.createElement("div",{className:"min-h-screen flex items-center justify-center bg-orange-50 p-4"},React.createElement("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md text-center"},React.createElement("div",{className:"text-4xl mb-4"},"\u26A0\uFE0F"),React.createElement("h2",{className:"text-xl font-bold text-gray-800 mb-2"},"Something went wrong"),React.createElement("p",{className:"text-gray-600 mb-4"},"Please try refreshing the page."),React.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition"},"Refresh Page")))}return this.props.children}};__name(_ErrorBoundary,"ErrorBoundary");let ErrorBoundary=_ErrorBoundary;const firebaseConfig={apiKey:"AIzaSyD-7dcoBdsHa_sD8gRmvrifyLGP3HKKfI4",authDomain:"seltra.firebaseapp.com",databaseURL:"https://seltra-default-rtdb.firebaseio.com",projectId:"seltra",storageBucket:"seltra.firebasestorage.app",messagingSenderId:"1066404835444",appId:"1:1066404835444:web:25fda863eeace41594e121",measurementId:"G-TL3TJW23D2"};if(!window.firebase.apps?.length){try{firebase.initializeApp(firebaseConfig)}catch(e){console.warn("Firebase init error:",e.message)}}const ensureFirebaseDB=__name(()=>{if(typeof firebase==="undefined"||typeof firebase.database!=="function"){throw new Error("Firebase database not available")}return firebase.database()},"ensureFirebaseDB");const firebaseDB={get:async path=>{try{const db=ensureFirebaseDB();const snap=await db.ref(path).once("value");return snap.val()}catch{return null}},push:async(path,data)=>{const db=ensureFirebaseDB();const ref=db.ref(path).push();await ref.set(data);return ref.key},set:async(path,data)=>{const db=ensureFirebaseDB();await db.ref(path).set(data)},update:async(path,data)=>{const db=ensureFirebaseDB();await db.ref(path).update(data)},delete:async path=>{const db=ensureFirebaseDB();await db.ref(path).remove()},listen:(path,cb)=>{try{const db=ensureFirebaseDB();const ref=db.ref(path);const handler=__name(snap=>cb(snap.val()),"handler");ref.on("value",handler);return()=>ref.off("value",handler)}catch{return()=>{}}}};const firebaseAuth={signIn:async(email,password)=>{if(!firebase.auth)throw new Error("Firebase Auth not loaded.");return firebase.auth().signInWithEmailAndPassword(email,password)},signOut:async()=>{if(!firebase.auth)return;return firebase.auth().signOut()},getCurrentUser:()=>{if(!firebase.auth)return null;return firebase.auth().currentUser},isAdmin:async()=>{const user=firebase.auth&&firebase.auth().currentUser;if(!user)return false;const admins=await firebaseDB.get("admins/"+user.uid);return!!admins},onAuthStateChanged:cb=>{if(!firebase.auth)return()=>{};return firebase.auth().onAuthStateChanged(cb)}};function Logo({size="default"}){const sizes={small:"h-8",default:"h-12",large:"h-16"};return React.createElement("div",{className:`flex items-center gap-3 ${sizes[size]} transition hover:scale-105 hover:opacity-90 cursor-pointer`},React.createElement("svg",{viewBox:"0 0 48 48",className:sizes[size],fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("defs",null,React.createElement("linearGradient",{id:"orangeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},React.createElement("stop",{offset:"0%",stopColor:"#FF8C42"}),React.createElement("stop",{offset:"100%",stopColor:"#FF6B35"}))),React.createElement("rect",{x:"8",y:"12",width:"32",height:"6",rx:"3",fill:"url(#orangeGradient)"}),React.createElement("rect",{x:"8",y:"21",width:"24",height:"6",rx:"3",fill:"url(#orangeGradient)",opacity:"0.7"}),React.createElement("rect",{x:"8",y:"30",width:"28",height:"6",rx:"3",fill:"url(#orangeGradient)",opacity:"0.5"}),React.createElement("circle",{cx:"38",cy:"24",r:"6",fill:"url(#orangeGradient)"})),React.createElement("span",{className:"font-bold text-3xl tracking-tight bg-gradient-to-r from-orange-500 to-orange-600 bg-clip-text text-transparent"},"seltra"))}__name(Logo,"Logo");function Button({children,className="",onClick,type="button",disabled}){return React.createElement("button",{type,onClick,disabled,className:`px-4 py-2.5 rounded-xl font-medium btn-pop ${disabled?"opacity-60 cursor-not-allowed":""} ${className}`},children)}__name(Button,"Button");function Input(props){return React.createElement("input",{...props,className:`border border-gray-200 rounded-xl px-4 py-2.5 w-full focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition ${props.className||""}`})}__name(Input,"Input");function Textarea(props){return React.createElement("textarea",{...props,className:`border border-gray-200 rounded-xl px-4 py-2.5 w-full focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition resize-none ${props.className||""}`})}__name(Textarea,"Textarea");function Label({children}){return React.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5"},children)}__name(Label,"Label");function Card({children,className=""}){return React.createElement("div",{className:`bg-white rounded-2xl shadow-sm p-5 card-hover ${className}`},children)}__name(Card,"Card");function CardHeader({children}){return React.createElement("div",{className:"mb-2"},children)}__name(CardHeader,"CardHeader");function CardTitle({children}){return React.createElement("h3",{className:"text-lg font-semibold"},children)}__name(CardTitle,"CardTitle");function CardContent({children}){return React.createElement("div",null,children)}__name(CardContent,"CardContent");function Link({to,children,className=""}){return React.createElement("a",{href:to,className},children)}__name(Link,"Link");if(!window.__toastStylesAdded){window.__toastStylesAdded=true;const style=document.createElement("style");style.innerHTML=`
        .toast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px); background: white; border: 2px solid #FF6B35; border-radius: 12px; padding: 15px 40px; min-width: 200px; max-width: 90vw; box-shadow: 0 8px 32px rgba(0,0,0,0.2); display:flex; flex-direction:column; align-items:center; animation: slide-in 0.4s ease forwards; z-index:99999; font-weight:600; font-size:15px; text-align:center; color: #333; }
        .toast-bar { width:100%; height:4px; background: linear-gradient(90deg, #FF8C42, #FF6B35); border-radius:5px; margin-top:10px; animation: shrink 2s linear forwards; }
        .toast-slide-up { animation: slide-out 0.4s ease forwards; }
        @keyframes slide-in { from { transform: translateX(-50%) translateY(-100px); opacity:0; } to { transform: translateX(-50%) translateY(0); opacity:1; } }
        @keyframes slide-out { from { transform: translateX(-50%) translateY(0); opacity:1; } to { transform: translateX(-50%) translateY(-100px); opacity:0; } }
        @keyframes shrink { from { width:100%; } to { width:0%; } }
      `;document.head.appendChild(style)}let toastLocked=false;function showToast(message){if(toastLocked)return;toastLocked=true;const toast=document.createElement("div");toast.className="toast";const messageDiv=document.createElement("div");messageDiv.textContent=message;const barDiv=document.createElement("div");barDiv.className="toast-bar";toast.appendChild(messageDiv);toast.appendChild(barDiv);document.body.appendChild(toast);setTimeout(()=>toast.classList.add("toast-slide-up"),2e3);setTimeout(()=>{toastLocked=false},2200);setTimeout(()=>toast.remove(),2500)}__name(showToast,"showToast");function BookmarkletCard({bookmarklet}){const[copying,setCopying]=useState(false);const copy=__name(async()=>{if(copying)return;setCopying(true);try{await navigator.clipboard.writeText(bookmarklet.code||"");showToast("Bookmarklet copied to clipboard!")}catch(err){console.error("Copy failed:",err);showToast("Copy failed \u2014 select the code and copy manually.")}finally{setTimeout(()=>setCopying(false),300)}},"copy");return React.createElement("div",{className:"border border-gray-100 p-5 rounded-2xl bg-white shadow-sm card-hover hover:border-orange-300"},React.createElement("h4",{className:"font-semibold text-gray-900 text-lg"},bookmarklet.title||bookmarklet.name||"Untitled"),bookmarklet.description&&React.createElement("p",{className:"text-sm text-gray-500 mt-2 leading-relaxed"},bookmarklet.description),React.createElement("div",{className:"mt-4 flex gap-3 items-center"},React.createElement("button",{className:`flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white text-sm font-medium btn-pop ${copying?"opacity-70":""}`,onClick:copy,disabled:copying,"aria-label":`Copy ${bookmarklet.title||"bookmarklet"} to clipboard`},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),React.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})),copying?"Copied!":"Copy"),bookmarklet.credits&&React.createElement("a",{href:bookmarklet.credits,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-400 hover:text-orange-500 transition flex items-center gap-1"},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),React.createElement("polyline",{points:"15 3 21 3 21 9"}),React.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"})),"Credits")))}__name(BookmarkletCard,"BookmarkletCard");function InstructionsModal({open,onClose}){useEffect(()=>{if(!open)return;const handleEsc=__name(e=>{if(e.key==="Escape")onClose()},"handleEsc");window.addEventListener("keydown",handleEsc);return()=>window.removeEventListener("keydown",handleEsc)},[open,onClose]);if(!open)return null;return React.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:onClose},React.createElement("div",{className:"bg-white p-8 rounded-3xl max-w-lg w-full shadow-2xl modal-animate",onClick:e=>e.stopPropagation()},React.createElement("div",{className:"flex items-center gap-4 mb-6"},React.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg"},React.createElement("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2"},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("path",{d:"M12 16v-4"}),React.createElement("path",{d:"M12 8h.01"}))),React.createElement("div",null,React.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"How to use bookmarklets"),React.createElement("p",{className:"text-gray-500"},"Get started in 5 easy steps"))),React.createElement("div",{className:"space-y-4"},[{step:1,text:'Create a new bookmark by clicking the share button, then "Add to Bookmarks".'},{step:2,text:"Copy a bookmarklet code by clicking the copy button on any bookmarklet card."},{step:3,text:'Edit your newly created bookmark: hold/right-click on it and select "Edit".'},{step:4,text:"Paste the copied code into the URL field and save."},{step:5,text:"To run it, open the page you want and click the bookmark!"}].map(({step,text})=>React.createElement("div",{key:step,className:"flex items-start gap-4"},React.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-400 to-orange-500 rounded-lg flex items-center justify-center text-white font-bold text-sm flex-shrink-0"},step),React.createElement("p",{className:"text-gray-700 leading-relaxed pt-1"},text)))),React.createElement("p",{className:"text-sm text-gray-400 mt-6 flex items-center gap-2"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),React.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),"Video tutorial coming soon"),React.createElement("div",{className:"text-right mt-6 pt-5 border-t border-gray-100"},React.createElement(Button,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-8",onClick:onClose},"Got it!"))))}__name(InstructionsModal,"InstructionsModal");function ContactModal({open,onClose}){useEffect(()=>{if(!open)return;const handleEsc=__name(e=>{if(e.key==="Escape")onClose()},"handleEsc");window.addEventListener("keydown",handleEsc);return()=>window.removeEventListener("keydown",handleEsc)},[open,onClose]);if(!open)return null;return React.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:onClose},React.createElement("div",{className:"bg-white p-8 rounded-3xl max-w-lg w-full shadow-2xl modal-animate",onClick:e=>e.stopPropagation()},React.createElement("div",{className:"flex items-center gap-4 mb-6"},React.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg"},React.createElement("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2"},React.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),React.createElement("polyline",{points:"22,6 12,13 2,6"}))),React.createElement("div",null,React.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Contact Us"),React.createElement("p",{className:"text-gray-500"},"Get in touch with the Seltra team"))),React.createElement("div",{className:"space-y-4"},React.createElement("a",{href:"mailto:seltrahelpcenter@gmail.com",className:"flex items-center gap-4 p-4 border-2 border-gray-100 rounded-2xl hover:bg-orange-50 hover:border-orange-300 transition-all group"},React.createElement("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#dc2626",strokeWidth:"2"},React.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),React.createElement("polyline",{points:"22,6 12,13 2,6"}))),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Email"),React.createElement("div",{className:"text-sm text-orange-600"},"seltrahelpcenter@gmail.com")),React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-gray-300 group-hover:text-orange-500 transition"},React.createElement("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"}))),React.createElement("a",{href:"https://github.com/mojhehh/seltra/issues",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 border-2 border-gray-100 rounded-2xl hover:bg-orange-50 hover:border-orange-300 transition-all group"},React.createElement("div",{className:"w-12 h-12 bg-gray-900 rounded-xl flex items-center justify-center"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},React.createElement("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"}))),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"GitHub Issues"),React.createElement("div",{className:"text-sm text-gray-500"},"Report bugs & request features")),React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-gray-300 group-hover:text-orange-500 transition"},React.createElement("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"}))),React.createElement("button",{onClick:()=>{onClose();setTimeout(()=>document.querySelector("[data-support-btn]")?.click(),100)},className:"w-full flex items-center gap-4 p-4 border-2 border-gray-100 rounded-2xl hover:bg-orange-50 hover:border-orange-300 transition-all group text-left"},React.createElement("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ea580c",strokeWidth:"2"},React.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Support & Feedback"),React.createElement("div",{className:"text-sm text-gray-500"},"Submit requests & track status")),React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-gray-300 group-hover:text-orange-500 transition"},React.createElement("path",{d:"M9 18l6-6-6-6"})))),React.createElement("div",{className:"mt-6 pt-5 border-t border-gray-100"},React.createElement("p",{className:"text-sm text-gray-400 text-center mb-4"},"We typically respond within 24-48 hours"),React.createElement("div",{className:"text-center"},React.createElement(Button,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-8",onClick:onClose},"Close")))))}__name(ContactModal,"ContactModal");const getOrCreateUserId=__name(()=>{let userId=localStorage.getItem("seltra_user_id");if(!userId){userId="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9);localStorage.setItem("seltra_user_id",userId)}return userId},"getOrCreateUserId");const getLastSeenTimestamps=__name(()=>{try{const data=localStorage.getItem("seltra_last_seen");return data?JSON.parse(data):{bookmarklets:0,websites:0}}catch{return{bookmarklets:0,websites:0}}},"getLastSeenTimestamps");const updateLastSeen=__name(type=>{const timestamps=getLastSeenTimestamps();timestamps[type]=Date.now();localStorage.setItem("seltra_last_seen",JSON.stringify(timestamps))},"updateLastSeen");const countNewItems=__name((items,type)=>{const timestamps=getLastSeenTimestamps();const lastSeen=timestamps[type]||0;return items.filter(item=>(item.createdAt||0)>lastSeen).length},"countNewItems");const getChats=__name(()=>{try{const chats=localStorage.getItem("seltra_ai_chats");return chats?JSON.parse(chats):[]}catch{return[]}},"getChats");const saveChats=__name(chats=>{let totalMessages=0;const trimmedChats=chats.map(chat=>{const remaining=Math.max(0,1e3-totalMessages);const messages=chat.messages.slice(-remaining);totalMessages+=messages.length;return{...chat,messages}}).filter(chat=>chat.messages.length>0);localStorage.setItem("seltra_ai_chats",JSON.stringify(trimmedChats))},"saveChats");function AIGeneratorModal({open,onClose,bookmarklets=[],websites=[]}){const[chats,setChats]=useState(()=>getChats());const[activeChatId,setActiveChatId]=useState(null);const[input,setInput]=useState("");const[loading,setLoading]=useState(false);const[showSidebar,setShowSidebar]=useState(true);const messagesEndRef=useRef(null);const inputRef=useRef(null);const abortControllerRef=useRef(null);useEffect(()=>{return()=>{if(abortControllerRef.current){abortControllerRef.current.abort()}}},[]);const activeChat=chats.find(c=>c.id===activeChatId);const messages=activeChat?.messages||[];useEffect(()=>{if(!open)return;const handleEsc=__name(e=>{if(e.key==="Escape")onClose()},"handleEsc");window.addEventListener("keydown",handleEsc);return()=>window.removeEventListener("keydown",handleEsc)},[open,onClose]);useEffect(()=>{messagesEndRef.current?.scrollIntoView({behavior:"smooth"})},[messages]);useEffect(()=>{if(open&&inputRef.current){setTimeout(()=>inputRef.current?.focus(),100)}},[open,activeChatId]);const createNewChat=__name(()=>{const newChat={id:"chat_"+Date.now(),title:"New Chat",messages:[],createdAt:Date.now()};const updated=[newChat,...chats];setChats(updated);saveChats(updated);setActiveChatId(newChat.id)},"createNewChat");const deleteChat=__name((chatId,e)=>{e.stopPropagation();const updated=chats.filter(c=>c.id!==chatId);setChats(updated);saveChats(updated);if(activeChatId===chatId){setActiveChatId(updated.length>0?updated[0].id:null)}},"deleteChat");const sendMessage=__name(async()=>{if(!input.trim()||loading)return;let chatId=activeChatId;let currentChats=chats;if(!chatId){const newChat={id:"chat_"+Date.now(),title:"New Chat",messages:[],createdAt:Date.now()};currentChats=[newChat,...chats];chatId=newChat.id;setChats(currentChats);setActiveChatId(chatId)}const userMessage={role:"user",content:input.trim()};const isFirstMessage=currentChats.find(c=>c.id===chatId)?.messages.length===0;const updatedChats=currentChats.map(c=>c.id===chatId?{...c,messages:[...c.messages,userMessage]}:c);setChats(updatedChats);saveChats(updatedChats);setInput("");setLoading(true);if(abortControllerRef.current){abortControllerRef.current.abort()}abortControllerRef.current=new AbortController;const timeoutId=setTimeout(()=>abortControllerRef.current?.abort(),6e4);try{const chatMessages=updatedChats.find(c=>c.id===chatId)?.messages||[];const res=await fetch("https://seltra-ai.modmojheh.workers.dev/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:chatMessages,generateTitle:isFirstMessage,bookmarklets:bookmarklets.map(b=>({title:b.title,description:b.description})),websites:websites.map(w=>({name:w.name,description:w.description,url:w.url}))}),signal:abortControllerRef.current.signal});clearTimeout(timeoutId);if(!res.ok)throw new Error(`HTTP ${res.status}`);const data=await res.json();if(data.error)throw new Error(data.error);const assistantMessage={role:"assistant",content:data.reply,code:data.code||null};const finalChats=updatedChats.map(c=>{if(c.id===chatId){return{...c,messages:[...c.messages,assistantMessage],title:data.title||c.title}}return c});setChats(finalChats);saveChats(finalChats)}catch(e){clearTimeout(timeoutId);if(e.name==="AbortError")return;const errorMessage={role:"assistant",content:"Sorry, something went wrong. Please try again."};const errorChats=updatedChats.map(c=>c.id===chatId?{...c,messages:[...c.messages,errorMessage]}:c);setChats(errorChats);saveChats(errorChats)}finally{setLoading(false)}},"sendMessage");const copyCode=__name(async code=>{try{await navigator.clipboard.writeText(code);showToast("Code copied!")}catch{showToast("Copy failed")}},"copyCode");const handleKeyDown=__name(e=>{if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();sendMessage()}},"handleKeyDown");if(!open)return null;return React.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:onClose},React.createElement("div",{className:"bg-white rounded-3xl w-full max-w-5xl h-[85vh] shadow-2xl modal-animate flex overflow-hidden",onClick:e=>e.stopPropagation()},React.createElement("div",{className:`${showSidebar?"w-72":"w-0"} bg-gray-50 border-r border-gray-200 flex flex-col transition-all duration-200 overflow-hidden`},React.createElement("div",{className:"p-4 border-b border-gray-200"},React.createElement("button",{onClick:createNewChat,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold text-sm btn-pop"},React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),"New Chat")),React.createElement("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-2"},chats.length===0?React.createElement("div",{className:"text-center text-gray-400 text-sm py-8"},"No chats yet"):chats.map(chat=>React.createElement("button",{key:chat.id,onClick:()=>setActiveChatId(chat.id),className:`w-full text-left p-3 rounded-xl mb-1 flex items-center gap-3 group transition-all ${activeChatId===chat.id?"bg-orange-100 text-orange-800":"hover:bg-gray-100 text-gray-700"}`},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"flex-shrink-0 opacity-60"},React.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),React.createElement("span",{className:"flex-1 truncate text-sm"},chat.title),React.createElement("button",{onClick:e=>deleteChat(chat.id,e),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 rounded transition-all"},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-red-500"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))))),React.createElement("div",{className:"flex-1 flex flex-col min-w-0"},React.createElement("div",{className:"flex items-center gap-3 p-4 border-b border-gray-200"},React.createElement("button",{onClick:()=>setShowSidebar(!showSidebar),className:"p-2 hover:bg-gray-100 rounded-lg transition"},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),React.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),React.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}))),React.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-xl flex items-center justify-center shadow-sm"},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2"},React.createElement("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),React.createElement("path",{d:"M2 17l10 5 10-5"}),React.createElement("path",{d:"M2 12l10 5 10-5"}))),React.createElement("div",{className:"flex-1"},React.createElement("h2",{className:"font-bold text-gray-900"},"AI Bookmarklet Generator"),React.createElement("p",{className:"text-xs text-gray-500"},"Chat with AI to create your perfect bookmarklet")),React.createElement("button",{onClick:onClose,className:"p-2 hover:bg-gray-100 rounded-lg transition"},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))),React.createElement("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-4 space-y-4"},messages.length===0?React.createElement("div",{className:"h-full flex flex-col items-center justify-center text-center px-4"},React.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-orange-200 rounded-3xl flex items-center justify-center mb-6"},React.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"#ea580c",strokeWidth:"1.5"},React.createElement("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),React.createElement("path",{d:"M2 17l10 5 10-5"}),React.createElement("path",{d:"M2 12l10 5 10-5"}))),React.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"What bookmarklet do you need?"),React.createElement("p",{className:"text-gray-500 max-w-md mb-8"},"I can help you create custom bookmarklets. Just tell me what you want it to do, and I'll ask any questions needed to make it perfect."),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full max-w-lg"},["Dark mode toggle for any website","Remove all images from page","Auto-scroll page slowly","Copy all links on page"].map((suggestion,i)=>React.createElement("button",{key:i,onClick:()=>{setInput(suggestion);inputRef.current?.focus()},className:"text-left p-3 bg-gray-50 hover:bg-orange-50 border border-gray-200 hover:border-orange-300 rounded-xl text-sm text-gray-700 transition"},suggestion)))):React.createElement(React.Fragment,null,messages.map((msg,i)=>{const displayContent=msg.code?msg.content.replace(/```(?:javascript|js)?\s*[\s\S]*?```/gi,"").trim():msg.content;return React.createElement("div",{key:i,className:`flex ${msg.role==="user"?"justify-end":"justify-start"}`},React.createElement("div",{className:`max-w-[80%] ${msg.role==="user"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white":"bg-gray-100 text-gray-800"} rounded-2xl px-4 py-3`},React.createElement("div",{className:"text-sm whitespace-pre-wrap"},displayContent),msg.code&&React.createElement("div",{className:"mt-3 relative"},React.createElement("pre",{className:"bg-gray-900 text-green-400 p-3 rounded-xl text-xs overflow-x-auto whitespace-pre-wrap break-all max-h-40 overflow-y-auto font-mono"},msg.code),React.createElement("button",{onClick:()=>copyCode(msg.code),className:"absolute top-2 right-2 bg-orange-500 hover:bg-orange-600 text-white px-2 py-1 rounded-lg text-xs font-medium flex items-center gap-1"},React.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2"}),React.createElement("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})),"Copy"))))}),loading&&React.createElement("div",{className:"flex justify-start"},React.createElement("div",{className:"bg-gray-100 rounded-2xl px-4 py-3"},React.createElement("div",{className:"flex items-center gap-2 text-gray-500"},React.createElement("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),React.createElement("span",{className:"text-sm"},"Thinking...")))),React.createElement("div",{ref:messagesEndRef}))),React.createElement("div",{className:"p-4 border-t border-gray-200"},React.createElement("div",{className:"flex gap-3"},React.createElement("textarea",{ref:inputRef,value:input,onChange:e=>setInput(e.target.value),onKeyDown:handleKeyDown,placeholder:"Describe what you want the bookmarklet to do...",rows:1,className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-orange-400 resize-none text-sm",style:{minHeight:"48px",maxHeight:"120px"}}),React.createElement("button",{onClick:sendMessage,disabled:loading||!input.trim(),className:"px-5 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold text-sm btn-pop disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),React.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})),"Send")),React.createElement("p",{className:"text-xs text-gray-400 mt-2 text-center"},"Press Enter to send \u2022 Shift+Enter for new line")))))}__name(AIGeneratorModal,"AIGeneratorModal");function SupportModal({open,onClose,bookmarklets=[],websites=[]}){const[feedbackType,setFeedbackType]=useState(null);const[title,setTitle]=useState("");const[description,setDescription]=useState("");const[email,setEmail]=useState("");const[submitting,setSubmitting]=useState(false);const[submitted,setSubmitted]=useState(false);const[viewMode,setViewMode]=useState("menu");const[myRequests,setMyRequests]=useState([]);const[loadingRequests,setLoadingRequests]=useState(false);const[unreadCount,setUnreadCount]=useState(0);const[bugItemType,setBugItemType]=useState("general");const[bugItemId,setBugItemId]=useState("");const[bugItemSearch,setBugItemSearch]=useState("");const[selectedRequest,setSelectedRequest]=useState(null);const[chatMessage,setChatMessage]=useState("");const[sendingMessage,setSendingMessage]=useState(false);const[editingMessageIndex,setEditingMessageIndex]=useState(null);const[editingMessageContent,setEditingMessageContent]=useState("");const chatEndRef=useRef(null);const feedbackUnsubRef=useRef(null);const userId=getOrCreateUserId();const filteredBugItems=bugItemType==="bookmarklet"?bookmarklets.filter(b=>b.title?.toLowerCase().includes(bugItemSearch.toLowerCase())):bugItemType==="website"?websites.filter(w=>w.name?.toLowerCase().includes(bugItemSearch.toLowerCase())):[];const selectedBugItem=bugItemType==="bookmarklet"?bookmarklets.find(b=>b.id===bugItemId):bugItemType==="website"?websites.find(w=>w.id===bugItemId):null;const getLastViewedTime=__name(()=>{try{return parseInt(localStorage.getItem("seltra_requests_viewed")||"0")}catch{return 0}},"getLastViewedTime");const markAsViewed=__name(()=>{try{localStorage.setItem("seltra_requests_viewed",Date.now().toString());setUnreadCount(0)}catch{}},"markAsViewed");useEffect(()=>{if(!open)return;const unsub=firebaseDB.listen("feedback",data=>{if(!data){setMyRequests([]);setUnreadCount(0);return}const lastViewed=getLastViewedTime();const myFeedback=Object.keys(data).map(k=>({id:k,...data[k]})).filter(f=>f.userId===userId).sort((a,b)=>(b.createdAt||0)-(a.createdAt||0));setMyRequests(myFeedback);if(selectedRequest){const updated=myFeedback.find(f=>f.id===selectedRequest.id);if(updated){setSelectedRequest(updated)}}const unread=myFeedback.filter(f=>{const hasAdminUpdate=f.respondedAt&&f.respondedAt>lastViewed||f.statusChangedAt&&f.statusChangedAt>lastViewed||f.status!=="new"&&f.createdAt>lastViewed;const hasNewMessages=f.messages&&f.messages.some(m=>m.from==="admin"&&m.timestamp>lastViewed);return hasAdminUpdate||hasNewMessages}).length;setUnreadCount(unread)});feedbackUnsubRef.current=unsub;return()=>{if(unsub)unsub()}},[open,userId]);const loadMyRequests=__name(()=>{setLoadingRequests(true);setTimeout(()=>setLoadingRequests(false),500)},"loadMyRequests");useEffect(()=>{if(viewMode==="chat"&&chatEndRef.current){chatEndRef.current.scrollIntoView({behavior:"smooth"})}},[selectedRequest?.messages,viewMode]);const openChat=__name(request=>{setSelectedRequest(request);setViewMode("chat")},"openChat");const sendChatMessage=__name(async()=>{if(!chatMessage.trim()||!selectedRequest||sendingMessage)return;setSendingMessage(true);try{const currentMessages=selectedRequest.messages||[];const newMessage={from:"user",content:chatMessage.trim(),timestamp:Date.now()};const updatedMessages=[...currentMessages,newMessage];await firebaseDB.update(`feedback/${selectedRequest.id}`,{messages:updatedMessages,lastMessageAt:Date.now()});setChatMessage("")}catch(e){console.error("Failed to send message:",e);showToast("Failed to send message. Please try again.")}finally{setSendingMessage(false)}},"sendChatMessage");const editUserMessage=__name(async messageIndex=>{if(!editingMessageContent.trim()||!selectedRequest)return;try{const updatedMessages=[...selectedRequest.messages||[]];updatedMessages[messageIndex]={...updatedMessages[messageIndex],content:editingMessageContent.trim(),editedAt:Date.now()};await firebaseDB.update(`feedback/${selectedRequest.id}`,{messages:updatedMessages});setEditingMessageIndex(null);setEditingMessageContent("")}catch(e){console.error("Failed to edit message:",e);showToast("Failed to edit message. Please try again.")}},"editUserMessage");useEffect(()=>{if(!open){setFeedbackType(null);setTitle("");setDescription("");setEmail("");setSubmitted(false);setViewMode("menu");setBugItemType("general");setBugItemId("");setBugItemSearch("");setSelectedRequest(null);setChatMessage("")}if(!open)return;const handleEsc=__name(e=>{if(e.key==="Escape")onClose()},"handleEsc");window.addEventListener("keydown",handleEsc);return()=>window.removeEventListener("keydown",handleEsc)},[open,onClose]);const submitFeedback=__name(async()=>{if(!title.trim()||!description.trim()){showToast("Please fill in all required fields");return}setSubmitting(true);try{const feedbackData={type:feedbackType,title:title.trim(),description:description.trim(),email:email.trim()||null,status:"new",createdAt:Date.now(),userAgent:navigator.userAgent,userId,messages:[]};if(feedbackType==="bug"&&bugItemType!=="general"&&bugItemId){feedbackData.bugItemType=bugItemType;feedbackData.bugItemId=bugItemId;feedbackData.bugItemName=selectedBugItem?.title||selectedBugItem?.name||""}await firebaseDB.push("feedback",feedbackData);setSubmitted(true);showToast("Feedback submitted successfully!")}catch(e){console.error("Failed to submit feedback:",e);showToast("Failed to submit. Please try again.")}finally{setSubmitting(false)}},"submitFeedback");const getStatusColor=__name(status=>{switch(status){case"new":return"bg-blue-100 text-blue-700";case"in-progress":return"bg-yellow-100 text-yellow-700";case"completed":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},"getStatusColor");const getStatusLabel=__name(status=>{switch(status){case"new":return"Pending Review";case"in-progress":return"In Progress";case"completed":return"Completed";case"rejected":return"Rejected";default:return status||"Unknown"}},"getStatusLabel");const getTypeIcon=__name(type=>{switch(type){case"bug":return"\u{1F41B}";case"bookmarklet":return"\u2728";case"feature":return"\u{1F4A1}";default:return"\u{1F4AC}"}},"getTypeIcon");if(!open)return null;const feedbackTypes=[{id:"bug",label:"Report a Bug",icon:"\u{1F41B}",color:"red",desc:"Something broken or not working?"},{id:"bookmarklet",label:"Request a Bookmarklet",icon:"\u2728",color:"purple",desc:"Want a specific bookmarklet created?"},{id:"feature",label:"Suggest a Feature",icon:"\u{1F4A1}",color:"blue",desc:"Have an idea to improve Seltra?"},{id:"other",label:"Other Feedback",icon:"\u{1F4AC}",color:"green",desc:"General feedback or questions"}];const colorClasses={red:{bg:"bg-red-100",hover:"hover:bg-red-50 hover:border-red-300",text:"text-red-600",gradient:"from-red-500 to-red-600"},purple:{bg:"bg-purple-100",hover:"hover:bg-purple-50 hover:border-purple-300",text:"text-purple-600",gradient:"from-purple-500 to-purple-600"},blue:{bg:"bg-blue-100",hover:"hover:bg-blue-50 hover:border-blue-300",text:"text-blue-600",gradient:"from-blue-500 to-blue-600"},green:{bg:"bg-green-100",hover:"hover:bg-green-50 hover:border-green-300",text:"text-green-600",gradient:"from-green-500 to-green-600"}};return React.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:onClose},React.createElement("div",{className:"bg-white p-8 rounded-3xl max-w-lg w-full shadow-2xl max-h-[90vh] overflow-y-auto scrollbar-thin modal-animate",onClick:e=>e.stopPropagation()},submitted?React.createElement("div",{className:"text-center py-8"},React.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-3xl flex items-center justify-center mx-auto mb-5 shadow-lg"},React.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5"},React.createElement("path",{d:"M20 6L9 17l-5-5"}))),React.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},"Thank You!"),React.createElement("p",{className:"text-gray-500 mb-6"},"Your feedback has been submitted successfully. We'll review it shortly."),React.createElement("div",{className:"flex gap-3 justify-center"},React.createElement(Button,{onClick:()=>{setViewMode("requests");setSubmitted(false);loadMyRequests();markAsViewed()},className:"border border-gray-200 hover:bg-gray-50 text-gray-700 px-6"},"View My Requests"),React.createElement(Button,{onClick:onClose,className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-8"},"Close"))):viewMode==="requests"?React.createElement(React.Fragment,null,React.createElement("div",{className:"flex items-center gap-3 mb-6"},React.createElement("button",{onClick:()=>setViewMode("menu"),className:"w-10 h-10 flex items-center justify-center rounded-xl hover:bg-gray-100 transition text-gray-400 hover:text-gray-600"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M15 18l-6-6 6-6"}))),React.createElement("div",null,React.createElement("h2",{className:"text-xl font-bold text-gray-900"},"My Requests"),React.createElement("p",{className:"text-sm text-gray-500"},"Track the status of your submissions"))),loadingRequests?React.createElement("div",{className:"flex justify-center py-12"},React.createElement("div",{className:"animate-spin h-8 w-8 border-b-2 rounded-full border-orange-600"})):myRequests.length===0?React.createElement("div",{className:"text-center py-12"},React.createElement("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4"},React.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#9ca3af",strokeWidth:"2"},React.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))),React.createElement("p",{className:"text-gray-500 mb-4"},"You haven't submitted any requests yet"),React.createElement(Button,{onClick:()=>setViewMode("menu"),className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white"},"Submit a Request")):React.createElement("div",{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-thin"},myRequests.map(req=>{const hasMessages=req.messages&&req.messages.length>0;const lastViewed=getLastViewedTime();const hasNewMessages=req.messages&&req.messages.some(m=>m.from==="admin"&&m.timestamp>lastViewed);return React.createElement("div",{key:req.id,className:"border border-gray-200 rounded-xl p-4 hover:border-orange-200 transition cursor-pointer",onClick:()=>openChat(req)},React.createElement("div",{className:"flex items-start gap-3"},React.createElement("div",{className:"text-2xl"},getTypeIcon(req.type)),React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("div",{className:"flex items-center gap-2 mb-1"},React.createElement("h4",{className:"font-semibold text-gray-900 truncate"},req.title),React.createElement("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${getStatusColor(req.status)}`},getStatusLabel(req.status)),hasNewMessages&&React.createElement("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse"},"New")),React.createElement("p",{className:"text-sm text-gray-500 line-clamp-2"},req.description),React.createElement("div",{className:"flex items-center gap-3 mt-2"},React.createElement("p",{className:"text-xs text-gray-400"},new Date(req.createdAt).toLocaleDateString()),hasMessages&&React.createElement("span",{className:"text-xs text-orange-500 flex items-center gap-1"},React.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),req.messages.length," message",req.messages.length>1?"s":""))),React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-gray-300"},React.createElement("path",{d:"M9 18l6-6-6-6"}))))})),React.createElement("div",{className:"flex justify-end mt-6 pt-5 border-t border-gray-100"},React.createElement(Button,{className:"border border-gray-200 hover:bg-gray-50 text-gray-700 px-6",onClick:onClose},"Close"))):viewMode==="chat"&&selectedRequest?React.createElement(React.Fragment,null,React.createElement("div",{className:"flex items-center gap-3 mb-4"},React.createElement("button",{onClick:()=>{setViewMode("requests");setSelectedRequest(null);loadMyRequests()},className:"w-10 h-10 flex items-center justify-center rounded-xl hover:bg-gray-100 transition text-gray-400 hover:text-gray-600"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M15 18l-6-6 6-6"}))),React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("h2",{className:"text-lg font-bold text-gray-900 truncate"},selectedRequest.title),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${getStatusColor(selectedRequest.status)}`},getStatusLabel(selectedRequest.status)),React.createElement("span",{className:"text-xs text-gray-400"},new Date(selectedRequest.createdAt).toLocaleDateString())))),React.createElement("div",{className:"bg-gray-50 rounded-xl p-3 mb-4"},React.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Original request:"),React.createElement("p",{className:"text-sm text-gray-700"},selectedRequest.description)),selectedRequest.status==="rejected"&&selectedRequest.rejectionReason&&React.createElement("div",{className:"bg-red-50 border border-red-100 rounded-xl p-3 mb-4"},React.createElement("div",{className:"flex items-center gap-2 mb-1"},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#dc2626",strokeWidth:"2"},React.createElement("path",{d:"M18 6L6 18M6 6l12 12"})),React.createElement("span",{className:"text-xs font-medium text-red-600"},"Rejection Reason")),React.createElement("p",{className:"text-sm text-red-700"},selectedRequest.rejectionReason)),selectedRequest.adminResponse&&React.createElement("div",{className:"bg-orange-50 border border-orange-100 rounded-xl p-3 mb-4"},React.createElement("div",{className:"flex items-center gap-2 mb-1"},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#ea580c",strokeWidth:"2"},React.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})),React.createElement("span",{className:"text-xs font-medium text-orange-600"},"Staff Response")),React.createElement("p",{className:"text-sm text-orange-700"},selectedRequest.adminResponse)),React.createElement("div",{className:"border border-gray-200 rounded-xl mb-4 max-h-64 overflow-y-auto scrollbar-thin"},!selectedRequest.messages||selectedRequest.messages.length===0?React.createElement("div",{className:"p-6 text-center text-gray-400"},React.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"mx-auto mb-2 opacity-50"},React.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),React.createElement("p",{className:"text-sm"},"No messages yet. Start a conversation with the Seltra team!")):React.createElement("div",{className:"p-3 space-y-3"},(Array.isArray(selectedRequest.messages)?selectedRequest.messages:[]).map((msg,originalIndex)=>{if(!msg||!msg.content)return null;return React.createElement("div",{key:msg.timestamp||originalIndex,className:`flex ${msg.from==="user"?"justify-end":"justify-start"}`},React.createElement("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${msg.from==="user"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white":"bg-gray-100 text-gray-800"} group relative`},editingMessageIndex===originalIndex&&msg.from==="user"?React.createElement("div",{className:"space-y-2"},React.createElement("textarea",{value:editingMessageContent,onChange:e=>setEditingMessageContent(e.target.value),className:"w-full text-sm border rounded px-2 py-1 text-gray-800 min-w-[200px]",rows:2,autoFocus:true}),React.createElement("div",{className:"flex gap-2 justify-end"},React.createElement("button",{onClick:()=>{setEditingMessageIndex(null);setEditingMessageContent("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"},"Cancel"),React.createElement("button",{onClick:()=>editUserMessage(originalIndex),className:"text-xs px-2 py-1 bg-orange-500 text-white rounded hover:bg-orange-600"},"Save"))):React.createElement(React.Fragment,null,React.createElement("p",{className:"text-sm whitespace-pre-wrap break-words"},msg.content),React.createElement("p",{className:`text-xs mt-1 ${msg.from==="user"?"text-orange-100":"text-gray-400"}`},msg.from==="admin"?"\u2B50 Seltra Team \u2022 ":"",msg.timestamp?new Date(msg.timestamp).toLocaleString():"",msg.editedAt?" (edited)":""),msg.from==="user"&&React.createElement("button",{onClick:()=>{setEditingMessageIndex(originalIndex);setEditingMessageContent(msg.content)},className:"absolute -top-2 -right-2 w-6 h-6 bg-white border border-gray-200 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition shadow-sm hover:bg-gray-50",title:"Edit message"},React.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#666",strokeWidth:"2"},React.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),React.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))))))}),React.createElement("div",{ref:chatEndRef}))),React.createElement("div",{className:"flex gap-2"},React.createElement("input",{type:"text",value:chatMessage,onChange:e=>setChatMessage(e.target.value),onKeyDown:e=>{if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();sendChatMessage()}},placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:border-orange-300 text-sm",disabled:sendingMessage}),React.createElement("button",{onClick:sendChatMessage,disabled:!chatMessage.trim()||sendingMessage,className:"px-4 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-medium text-sm disabled:opacity-50 transition flex items-center gap-2"},sendingMessage?React.createElement("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}):React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),React.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})),"Send"))):viewMode==="menu"&&!feedbackType?React.createElement(React.Fragment,null,React.createElement("div",{className:"flex items-center gap-4 mb-6"},React.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg"},React.createElement("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2"},React.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))),React.createElement("div",null,React.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Support & Feedback"),React.createElement("p",{className:"text-gray-500"},"What would you like to share?"))),React.createElement("div",{className:"space-y-3"},feedbackTypes.map(type=>React.createElement("button",{key:type.id,onClick:()=>{setFeedbackType(type.id);setViewMode("new")},className:`w-full flex items-center gap-4 p-4 border-2 border-gray-100 rounded-2xl ${colorClasses[type.color].hover} transition-all duration-200 group text-left btn-pop`},React.createElement("div",{className:`w-14 h-14 ${colorClasses[type.color].bg} rounded-xl flex items-center justify-center text-2xl`},type.icon),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900 text-lg"},type.label),React.createElement("div",{className:"text-sm text-gray-500"},type.desc)),React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-gray-300 group-hover:text-gray-500 transition"},React.createElement("path",{d:"M9 18l6-6-6-6"}))))),React.createElement("button",{onClick:()=>{setViewMode("requests");loadMyRequests();markAsViewed()},className:"w-full flex items-center gap-4 p-4 mt-4 border-2 border-orange-100 rounded-2xl hover:bg-orange-50 hover:border-orange-300 transition-all duration-200 group text-left btn-pop relative"},React.createElement("div",{className:"w-14 h-14 bg-orange-100 rounded-xl flex items-center justify-center"},React.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"#ea580c",strokeWidth:"2"},React.createElement("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"}))),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2"},"My Requests",unreadCount>0&&React.createElement("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse"},unreadCount)),React.createElement("div",{className:"text-sm text-gray-500"},unreadCount>0?`${unreadCount} new update${unreadCount>1?"s":""}`:"Track your submitted feedback")),React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-gray-300 group-hover:text-orange-500 transition"},React.createElement("path",{d:"M9 18l6-6-6-6"}))),React.createElement("div",{className:"flex justify-between items-center mt-8 pt-5 border-t border-gray-100"},React.createElement("div",{className:"flex gap-4 text-xs text-gray-400"},React.createElement("a",{href:"#/terms",className:"hover:text-orange-600 transition",onClick:onClose},"Terms"),React.createElement("a",{href:"#/privacy",className:"hover:text-orange-600 transition",onClick:onClose},"Privacy")),React.createElement(Button,{className:"border border-gray-200 hover:bg-gray-50 text-gray-700 px-6",onClick:onClose},"Close"))):viewMode==="new"&&feedbackType?React.createElement(React.Fragment,null,React.createElement("div",{className:"flex items-center gap-3 mb-6"},React.createElement("button",{onClick:()=>{setFeedbackType(null);setViewMode("menu")},className:"w-10 h-10 flex items-center justify-center rounded-xl hover:bg-gray-100 transition text-gray-400 hover:text-gray-600"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M15 18l-6-6 6-6"}))),React.createElement("div",null,React.createElement("h2",{className:"text-xl font-bold text-gray-900"},feedbackTypes.find(t=>t.id===feedbackType)?.label),React.createElement("p",{className:"text-sm text-gray-500"},"Fill in the details below"))),React.createElement("div",{className:"space-y-5"},feedbackType==="bug"&&React.createElement("div",null,React.createElement(Label,null,"What is the bug related to?"),React.createElement("div",{className:"flex gap-2 mt-2"},React.createElement("button",{onClick:()=>{setBugItemType("general");setBugItemId("");setBugItemSearch("")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition ${bugItemType==="general"?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-gray-200"}`},"General / Site"),React.createElement("button",{onClick:()=>{setBugItemType("bookmarklet");setBugItemId("");setBugItemSearch("")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition ${bugItemType==="bookmarklet"?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-gray-200"}`},"Bookmarklet"),React.createElement("button",{onClick:()=>{setBugItemType("website");setBugItemId("");setBugItemSearch("")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition ${bugItemType==="website"?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-gray-200"}`},"Website")),bugItemType!=="general"&&React.createElement("div",{className:"mt-3"},React.createElement(Input,{value:bugItemSearch,onChange:e=>setBugItemSearch(e.target.value),placeholder:`Search ${bugItemType}s...`,className:"mb-2"}),selectedBugItem?React.createElement("div",{className:"flex items-center gap-2 p-3 bg-orange-50 border border-orange-200 rounded-lg"},React.createElement("span",{className:"text-orange-600 font-medium"},selectedBugItem.title||selectedBugItem.name),React.createElement("button",{onClick:()=>{setBugItemId("");setBugItemSearch("")},className:"ml-auto text-gray-400 hover:text-red-500"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))):React.createElement("div",{className:"max-h-32 overflow-y-auto scrollbar-thin border rounded-lg"},filteredBugItems.length===0?React.createElement("div",{className:"p-3 text-sm text-gray-500 text-center"},"No ",bugItemType,"s found"):filteredBugItems.slice(0,10).map(item=>React.createElement("button",{key:item.id,onClick:()=>{setBugItemId(item.id);setBugItemSearch("")},className:"w-full text-left px-3 py-2 hover:bg-orange-50 text-sm border-b last:border-b-0 transition"},item.title||item.name))))),React.createElement("div",null,React.createElement(Label,null,"Title *"),React.createElement(Input,{value:title,onChange:e=>setTitle(e.target.value),placeholder:feedbackType==="bug"?"Brief description of the bug":feedbackType==="bookmarklet"?"What should the bookmarklet do?":"What feature would you like?",className:"mt-1"})),React.createElement("div",null,React.createElement(Label,null,"Description *"),React.createElement(Textarea,{value:description,onChange:e=>setDescription(e.target.value),rows:4,placeholder:feedbackType==="bug"?"Steps to reproduce the bug, what you expected, what actually happened...":"Provide as much detail as possible...",className:"mt-1"})),React.createElement("div",null,React.createElement(Label,null,"Email (optional)"),React.createElement(Input,{type:"email",value:email,onChange:e=>setEmail(e.target.value),placeholder:"your@email.com",className:"mt-1"}),React.createElement("p",{className:"text-xs text-gray-400 mt-2"},"We'll only use this to follow up on your feedback")),React.createElement(Button,{onClick:submitFeedback,disabled:submitting||!title.trim()||!description.trim(),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3.5 font-semibold text-base"},submitting?"Submitting...":"Submit Feedback"))):null))}__name(SupportModal,"SupportModal");function Search({value,setValue,activeTab}){const inputRef=useRef(null);useEffect(()=>{const handleKeyDown=__name(e=>{if((e.ctrlKey||e.metaKey)&&e.key==="k"){e.preventDefault();inputRef.current?.focus()}if(e.key==="Escape"&&document.activeElement===inputRef.current&&value){setValue("")}},"handleKeyDown");window.addEventListener("keydown",handleKeyDown);return()=>window.removeEventListener("keydown",handleKeyDown)},[value,setValue]);return React.createElement("div",{className:"mb-4 fade-item"},React.createElement("div",{className:"relative max-w-4xl mx-auto"},React.createElement("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none"},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-orange-400","aria-hidden":"true"},React.createElement("path",{d:"M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{ref:inputRef,id:"search-input",className:"search-input w-full pr-10 py-3 border border-transparent focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-orange-400",placeholder:activeTab==="websites"?"Search websites... (Ctrl+K)":"Search bookmarklets... (Ctrl+K)",value,onChange:e=>setValue(e.target.value),"aria-label":activeTab==="websites"?"Search websites":"Search bookmarklets",type:"search",autoComplete:"off",spellCheck:"false"}),value&&React.createElement("button",{onClick:()=>{setValue("");inputRef.current?.focus()},"aria-label":"Clear search",title:"Clear search (Esc)",className:"absolute right-3 top-1/2 -translate-y-1/2 w-6 h-6 flex items-center justify-center rounded-full hover:bg-orange-100 transition-colors text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-400"},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))))}__name(Search,"Search");function CategoryBar({categories,counts={},selectedId,onSelect,newItemsCount=0}){const containerRef=useRef(null);const refs=useRef({});const[underline,setUnderline]=useState({left:0,width:0});function pickActiveElement(){const c=containerRef.current;if(!c)return null;if(selectedId==="")return refs.current["all"]||c.querySelector("button");return refs.current[selectedId]||c.querySelector('[data-active="true"]')||c.querySelector("button")}__name(pickActiveElement,"pickActiveElement");function recomputeUnderline(){const c=containerRef.current;const active=pickActiveElement();if(!c||!active){setUnderline({left:0,width:0});return}const parentRect=c.getBoundingClientRect();const rect=active.getBoundingClientRect();requestAnimationFrame(()=>{setUnderline({left:rect.left-parentRect.left,width:rect.width});const offsetLeft=active.offsetLeft-c.offsetLeft;const visibleLeft=c.scrollLeft;const visibleRight=c.scrollLeft+c.clientWidth;const targetLeft=offsetLeft-12;const targetRight=offsetLeft+active.offsetWidth+12;if(targetLeft<visibleLeft)c.scrollTo({left:targetLeft,behavior:"smooth"});if(targetRight>visibleRight)c.scrollTo({left:targetRight-c.clientWidth,behavior:"smooth"})})}__name(recomputeUnderline,"recomputeUnderline");useEffect(()=>{recomputeUnderline();const id=setTimeout(recomputeUnderline,80);return()=>clearTimeout(id)},[selectedId,categories]);useEffect(()=>{const obs=new ResizeObserver(()=>recomputeUnderline());if(containerRef.current)obs.observe(containerRef.current);window.addEventListener("resize",recomputeUnderline);return()=>{try{obs.disconnect()}catch(_){}window.removeEventListener("resize",recomputeUnderline)}},[]);useEffect(()=>{const el=containerRef.current;if(!el)return;const mo=new MutationObserver(()=>recomputeUnderline());mo.observe(el,{childList:true,subtree:true,characterData:true});return()=>mo.disconnect()},[]);return React.createElement("div",{className:"mb-6 fade-item"},React.createElement("div",{className:"relative"},React.createElement("div",{ref:containerRef,className:"flex gap-3 overflow-x-auto py-3 px-2 bg-white border border-orange-100 rounded-2xl shadow-sm no-scroll",role:"toolbar","aria-label":"Categories",tabIndex:0},React.createElement("button",{ref:el=>refs.current["all"]=el,"data-active":selectedId===""?"true":"false","aria-pressed":selectedId===""?"true":"false",onClick:()=>onSelect(""),className:`chip ${selectedId===""?"active":""} relative`,type:"button"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},React.createElement("path",{d:"M12 2v20",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})),React.createElement("span",null,"All"),React.createElement("span",{className:"count-badge","aria-hidden":"true"},counts.all??0),newItemsCount>0&&selectedId!==""&&React.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center"},newItemsCount)),categories.map(cat=>React.createElement("button",{key:cat.id,ref:el=>refs.current[cat.id]=el,"data-active":selectedId===cat.id?"true":"false","aria-pressed":selectedId===cat.id?"true":"false",onClick:()=>onSelect(cat.id),className:`chip ${selectedId===cat.id?"active":""}`,type:"button"},React.createElement("span",null,cat.name),React.createElement("span",{className:"count-badge","aria-hidden":"true"},counts[cat.id]??0)))),React.createElement("div",{"aria-hidden":"true",className:"absolute bottom-1 left-0",style:{transform:`translateX(${underline.left}px)`,width:underline.width?underline.width+"px":"0px"}},React.createElement("div",{className:"underline",style:{width:"100%"}}))))}__name(CategoryBar,"CategoryBar");function WebsiteCard({website}){const isComingSoon=website.comingSoon||/\(coming soon\)/i.test(website.name||"");const displayName=(website.name||"Untitled").replace(/\s*\(coming soon\)\s*/i,"");return React.createElement("a",{href:isComingSoon?"#":website.url,target:isComingSoon?"_self":"_blank",rel:"noopener noreferrer",className:`block border-2 border-gray-100 rounded-2xl bg-white shadow-sm card-hover overflow-hidden group ${isComingSoon?"cursor-default":""} hover:border-orange-300`,onClick:isComingSoon?e=>e.preventDefault():void 0},website.image?React.createElement("div",{className:"h-48 overflow-hidden bg-gray-100 relative rounded-t-2xl"},React.createElement("img",{src:website.image,alt:displayName,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500",onError:e=>{e.target.style.display="none"}}),isComingSoon&&React.createElement("div",{className:"absolute top-3 right-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg"},"Coming Soon")):isComingSoon?React.createElement("div",{className:"h-48 bg-gradient-to-br from-orange-100 to-orange-50 flex items-center justify-center rounded-t-2xl"},React.createElement("span",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white text-sm font-bold px-4 py-2 rounded-full shadow-lg"},"Coming Soon")):null,React.createElement("div",{className:"p-5"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("h4",{className:"font-semibold text-gray-900 text-lg"},displayName),!isComingSoon&&React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-orange-400 opacity-0 group-hover:opacity-100 transition-opacity"},React.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),React.createElement("polyline",{points:"15 3 21 3 21 9"}),React.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))),website.description&&React.createElement("p",{className:"text-sm text-gray-500 mt-2 line-clamp-[10] leading-relaxed"},website.description),!isComingSoon&&website.url&&React.createElement("p",{className:"text-xs text-orange-500 mt-3 truncate font-medium"},website.url.replace(/^https?:\/\//,""))))}__name(WebsiteCard,"WebsiteCard");function TabSwitcher({activeTab,onTabChange,newBookmarkletsCount=0,newWebsitesCount=0}){return React.createElement("div",{className:"flex justify-center mb-8"},React.createElement("div",{className:"inline-flex bg-white border-2 border-orange-100 rounded-full p-1.5 shadow-sm"},React.createElement("button",{onClick:()=>onTabChange("bookmarklets"),className:`px-8 py-3 rounded-full text-sm font-semibold transition-all duration-200 relative ${activeTab==="bookmarklets"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg":"text-gray-500 hover:text-orange-600"}`},React.createElement("span",{className:"flex items-center gap-2"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})),"Bookmarklets"),activeTab!=="bookmarklets"&&newBookmarkletsCount>0&&React.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center animate-pulse"},newBookmarkletsCount)),React.createElement("button",{onClick:()=>onTabChange("websites"),className:`px-8 py-3 rounded-full text-sm font-semibold transition-all duration-200 relative ${activeTab==="websites"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg":"text-gray-500 hover:text-orange-600"}`},React.createElement("span",{className:"flex items-center gap-2"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),React.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})),"Websites"),activeTab!=="websites"&&newWebsitesCount>0&&React.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center animate-pulse"},newWebsitesCount))))}__name(TabSwitcher,"TabSwitcher");function Home(){const[showInstructions,setShowInstructions]=useState(false);const[showAIGenerator,setShowAIGenerator]=useState(false);const[showSupport,setShowSupport]=useState(false);const[showContact,setShowContact]=useState(false);const[isAdminFlag,setIsAdminFlag]=useState(false);const[categories,setCategories]=useState([]);const[websiteCategories,setWebsiteCategories]=useState([]);const[bookmarklets,setBookmarklets]=useState([]);const[websites,setWebsites]=useState([]);const[loading,setLoading]=useState(true);const[unreadUpdates,setUnreadUpdates]=useState(0);const[showUpdatePopup,setShowUpdatePopup]=useState(false);const[search,setSearch]=useState(globalState.search);const[selectedCategory,setSelectedCategory]=useState(globalState.selectedCategory);const[activeTab,setActiveTab]=useState(globalState.activeTab);useEffect(()=>{globalState.search=search},[search]);useEffect(()=>{globalState.selectedCategory=selectedCategory},[selectedCategory]);useEffect(()=>{globalState.activeTab=activeTab},[activeTab]);useEffect(()=>{const timer=setTimeout(()=>{document.querySelectorAll(".fade-item").forEach(el=>el.classList.add("show"))},50);return()=>clearTimeout(timer)},[]);useEffect(()=>{let isMounted=true;let popupTimerId=null;const userId=getOrCreateUserId();const lastViewed=parseInt(localStorage.getItem("seltra_requests_viewed")||"0");const unsub=firebaseDB.listen("feedback",data=>{if(!isMounted)return;if(!data){setUnreadUpdates(0);return}const myFeedback=Object.keys(data).map(k=>({id:k,...data[k]})).filter(f=>f.userId===userId);const unread=myFeedback.filter(f=>{const hasAdminUpdate=f.respondedAt&&f.respondedAt>lastViewed||f.statusChangedAt&&f.statusChangedAt>lastViewed||f.status!=="new"&&f.createdAt>lastViewed;const hasNewMessages=f.messages&&f.messages.some(m=>m.from==="admin"&&m.timestamp>lastViewed);return hasAdminUpdate||hasNewMessages}).length;setUnreadUpdates(unread);if(unread>0){const dismissed=sessionStorage.getItem("seltra_update_popup_dismissed");if(!dismissed&&!popupTimerId){popupTimerId=setTimeout(()=>{if(isMounted)setShowUpdatePopup(true)},1500)}}});return()=>{isMounted=false;if(popupTimerId)clearTimeout(popupTimerId);unsub()}},[]);const dismissPopup=__name(()=>{setShowUpdatePopup(false);sessionStorage.setItem("seltra_update_popup_dismissed","true")},"dismissPopup");const openSupportFromPopup=__name(()=>{setShowUpdatePopup(false);sessionStorage.setItem("seltra_update_popup_dismissed","true");setShowSupport(true)},"openSupportFromPopup");useEffect(()=>{let isMounted=true;const unsub=firebaseAuth.onAuthStateChanged(async user=>{if(!isMounted)return;if(user){try{const admin=await firebaseAuth.isAdmin();if(isMounted)setIsAdminFlag(admin)}catch{if(isMounted)setIsAdminFlag(false)}}else{if(isMounted)setIsAdminFlag(false)}});loadData();const offCats=firebaseDB.listen("categories",data=>{if(!isMounted)return;if(!data){setCategories([]);return}const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setCategories(arr);if(globalState.activeTab==="bookmarklets"&&globalState.selectedCategory&&!arr.find(c=>c.id===globalState.selectedCategory)){setSelectedCategory("")}});const offWebCats=firebaseDB.listen("websiteCategories",data=>{if(!isMounted)return;if(!data){setWebsiteCategories([]);return}const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setWebsiteCategories(arr);if(globalState.activeTab==="websites"&&globalState.selectedCategory&&!arr.find(c=>c.id===globalState.selectedCategory)){setSelectedCategory("")}});const offMarks=firebaseDB.listen("bookmarklets",data=>{if(!isMounted)return;if(!data){setBookmarklets([]);return}const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setBookmarklets(arr)});const offSites=firebaseDB.listen("websites",data=>{if(!isMounted)return;if(!data){setWebsites([]);return}const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setWebsites(arr)});return()=>{isMounted=false;offCats();offWebCats();offMarks();offSites();if(unsub)unsub()}},[]);async function loadData(){setLoading(true);try{const[cats,webCats,marks,sites]=await Promise.all([firebaseDB.get("categories"),firebaseDB.get("websiteCategories"),firebaseDB.get("bookmarklets"),firebaseDB.get("websites")]);if(cats){const arr=Object.keys(cats).map(k=>({id:k,...cats[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setCategories(arr)}else setCategories([]);if(webCats){const arr=Object.keys(webCats).map(k=>({id:k,...webCats[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setWebsiteCategories(arr)}else setWebsiteCategories([]);if(marks){const arr=Object.keys(marks).map(k=>({id:k,...marks[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setBookmarklets(arr)}else setBookmarklets([]);if(sites){const arr=Object.keys(sites).map(k=>({id:k,...sites[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setWebsites(arr)}else setWebsites([])}catch(e){console.error("Failed to load data:",e);setCategories([]);setWebsiteCategories([]);setBookmarklets([]);setWebsites([])}finally{setLoading(false)}}__name(loadData,"loadData");const currentItems=activeTab==="bookmarklets"?bookmarklets:websites;const currentCategories=activeTab==="bookmarklets"?categories:websiteCategories;const counts=currentCategories.reduce((acc,c)=>{acc[c.id]=currentItems.filter(b=>b.categoryId===c.id).length;return acc},{all:currentItems.length});const filteredItems=currentItems.filter(b=>(search.trim()===""||(b.title||b.name||"").toLowerCase().includes(search.toLowerCase()))&&(selectedCategory===""||b.categoryId===selectedCategory));const grouped=currentCategories.map(cat=>({...cat,items:filteredItems.filter(b=>b.categoryId===cat.id)})).filter(c=>c.items.length>0);return React.createElement("div",{className:"min-h-screen flex flex-col"},React.createElement("header",{className:"border-b border-orange-100 bg-white/80 backdrop-blur-md p-4 sticky top-0 z-20"},React.createElement("div",{className:"container mx-auto flex justify-between items-center"},React.createElement(Logo,null),React.createElement("div",{className:"flex gap-3 items-center"},React.createElement("button",{onClick:()=>setShowAIGenerator(true),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-full font-semibold text-sm btn-pop pulse-glow"},React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),React.createElement("path",{d:"M2 17l10 5 10-5"}),React.createElement("path",{d:"M2 12l10 5 10-5"})),"AI Generate"),React.createElement("button",{onClick:()=>setShowInstructions(true),className:"flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-gray-200 hover:border-orange-300 text-gray-700 rounded-full font-medium text-sm btn-pop"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("path",{d:"M12 16v-4"}),React.createElement("path",{d:"M12 8h.01"})),"How to Use"),React.createElement("button",{onClick:()=>setShowSupport(true),"data-support-btn":true,className:"flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-gray-200 hover:border-orange-300 text-gray-700 rounded-full font-medium text-sm btn-pop relative"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),"Support",unreadUpdates>0&&React.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center animate-pulse"},unreadUpdates)),React.createElement(Link,{to:createPageUrl("Admin"),className:"w-10 h-10 flex items-center justify-center rounded-full border-2 border-gray-200 hover:border-orange-300 transition btn-pop"},React.createElement("img",{src:"https://raw.githubusercontent.com/mojhehh/seltra/28261352f4e6f9a50759d616fda72876a9a39c17/Admin.png",alt:"Admin",className:"h-6 w-6"}))))),React.createElement("main",{className:"container mx-auto px-4 py-10 flex-grow"},React.createElement("section",{className:"text-center mb-8"},React.createElement("h1",{className:"text-5xl font-bold text-gray-900"},"Powerful ",activeTab==="bookmarklets"?"Bookmarklets":"Websites"),React.createElement("h2",{className:"text-4xl font-bold gradient-text mt-2"},"All In One Place"),React.createElement("p",{className:"mt-4 text-gray-500 text-lg max-w-xl mx-auto"},activeTab==="bookmarklets"?"Copy, save, and share these powerful bookmarklets to enhance your browsing.":"Discover useful websites and tools curated for you.")),React.createElement(TabSwitcher,{activeTab,onTabChange:tab=>{updateLastSeen(activeTab);setActiveTab(tab);setSelectedCategory("")},newBookmarkletsCount:countNewItems(bookmarklets,"bookmarklets"),newWebsitesCount:countNewItems(websites,"websites")}),React.createElement(Search,{value:search,setValue:setSearch,activeTab}),React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement(CategoryBar,{categories:currentCategories,counts,selectedId:selectedCategory,onSelect:id=>setSelectedCategory(id),newItemsCount:countNewItems(currentItems,activeTab)})),loading?React.createElement("div",{className:"flex justify-center py-20"},React.createElement("div",{className:"animate-spin h-10 w-10 border-b-2 rounded-full border-orange-600"})):grouped.length===0?React.createElement("div",{className:"text-center py-20"},React.createElement("div",{className:"text-gray-500 mb-4"},"No ",activeTab," found."),React.createElement("p",{className:"text-gray-400 mb-6"},"Can't find what you're looking for?"),React.createElement("button",{onClick:()=>setShowSupport(true),className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold btn-pop"},"Ask us to ",activeTab==="bookmarklets"?"make it":"add it","!")):grouped.map(cat=>React.createElement("section",{key:cat.id,className:"mb-12"},React.createElement("div",{className:"flex items-center gap-4 mb-6"},React.createElement("div",{className:"w-1.5 h-10 bg-gradient-to-b from-orange-400 to-orange-600 rounded-full"}),React.createElement("div",null,React.createElement("h2",{className:"text-2xl font-bold text-gray-900"},cat.name),cat.description&&React.createElement("p",{className:"text-gray-500 mt-0.5"},cat.description))),React.createElement("div",{className:`grid gap-5 ${activeTab==="websites"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`},cat.items.map(item=>activeTab==="bookmarklets"?React.createElement(BookmarkletCard,{key:item.id,bookmarklet:item}):React.createElement(WebsiteCard,{key:item.id,website:item})))))),React.createElement("footer",{className:"border-t border-orange-100 bg-white py-10 mt-auto"},React.createElement("div",{className:"container mx-auto px-4"},React.createElement("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("img",{src:"favicon.png",alt:"Seltra",className:"h-8 w-auto"}),React.createElement("span",{className:"text-gray-700 font-semibold text-lg"},"Seltra")),React.createElement("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm"},React.createElement("a",{href:"#/terms",className:"text-gray-500 hover:text-orange-600 transition font-medium"},"Terms of Service"),React.createElement("span",{className:"text-gray-200"},"\u2022"),React.createElement("a",{href:"#/privacy",className:"text-gray-500 hover:text-orange-600 transition font-medium"},"Privacy Policy"),React.createElement("span",{className:"text-gray-200"},"\u2022"),React.createElement("a",{href:"#/copyright",className:"text-gray-500 hover:text-orange-600 transition font-medium"},"Copyright"),React.createElement("span",{className:"text-gray-200"},"\u2022"),React.createElement("button",{onClick:()=>setShowContact(true),className:"text-gray-500 hover:text-orange-600 transition font-medium flex items-center gap-1.5"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),React.createElement("polyline",{points:"22,6 12,13 2,6"})),"Contact")),React.createElement("p",{className:"text-gray-400 text-sm"},"\xA9 ",new Date().getFullYear()," Seltra")))),React.createElement(InstructionsModal,{open:showInstructions,onClose:()=>setShowInstructions(false)}),React.createElement(AIGeneratorModal,{open:showAIGenerator,onClose:()=>setShowAIGenerator(false),bookmarklets,websites}),React.createElement(SupportModal,{open:showSupport,onClose:()=>{setShowSupport(false);setUnreadUpdates(0)},bookmarklets,websites}),React.createElement(ContactModal,{open:showContact,onClose:()=>setShowContact(false)}),showUpdatePopup&&unreadUpdates>0&&React.createElement("div",{className:"fixed bottom-6 right-6 z-50 animate-slideUp"},React.createElement("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 p-5 max-w-sm"},React.createElement("div",{className:"flex items-start gap-4"},React.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2"},React.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),React.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"font-bold text-gray-900 mb-1"},"You have updates!"),React.createElement("p",{className:"text-sm text-gray-500"},unreadUpdates+" of your request"+(unreadUpdates>1?"s have":" has")+" been updated by the Seltra team.")),React.createElement("button",{onClick:dismissPopup,className:"text-gray-400 hover:text-gray-600 transition"},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M18 6L6 18M6 6l12 12"})))),React.createElement("div",{className:"flex gap-2 mt-4"},React.createElement("button",{onClick:dismissPopup,className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl text-gray-600 font-medium text-sm hover:bg-gray-50 transition"},"Later"),React.createElement("button",{onClick:openSupportFromPopup,className:"flex-1 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-medium text-sm hover:shadow-lg transition"},"View Updates")))))}__name(Home,"Home");function AdminPage(){const[isAdmin,setIsAdmin]=useState(false);const[categories,setCategories]=useState([]);const[websiteCategories,setWebsiteCategories]=useState([]);const[bookmarklets,setBookmarklets]=useState([]);const[websites,setWebsites]=useState([]);const[feedback,setFeedback]=useState([]);const[loading,setLoading]=useState(true);const[showLogin,setShowLogin]=useState(false);const[email,setEmail]=useState("");const[password,setPassword]=useState("");const[loginError,setLoginError]=useState("");const[categoryForm,setCategoryForm]=useState({name:"",description:"",order:0});const[editCategoryId,setEditCategoryId]=useState(null);const[webCategoryForm,setWebCategoryForm]=useState({name:"",description:"",order:0});const[editWebCategoryId,setEditWebCategoryId]=useState(null);const[bookmarkletForm,setBookmarkletForm]=useState({title:"",description:"",code:"",categoryId:"",order:0,credits:""});const[editId,setEditId]=useState(null);const[websiteForm,setWebsiteForm]=useState({name:"",description:"",url:"",image:"",categoryId:"",order:0,comingSoon:false});const[editWebsiteId,setEditWebsiteId]=useState(null);const[showLogoutConfirm,setShowLogoutConfirm]=useState(false);const[adminTab,setAdminTab]=useState("bookmarklets");const listenersRef=React.useRef([]);useEffect(()=>{let isMounted=true;const setupListeners=__name(()=>{listenersRef.current.forEach(unsub2=>unsub2&&unsub2());listenersRef.current=[];const offCats=firebaseDB.listen("categories",data=>{if(!isMounted)return;if(data){const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setCategories(arr)}else setCategories([])});const offWebCats=firebaseDB.listen("websiteCategories",data=>{if(!isMounted)return;if(data){const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setWebsiteCategories(arr)}else setWebsiteCategories([])});const offMarks=firebaseDB.listen("bookmarklets",data=>{if(!isMounted)return;if(data){const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setBookmarklets(arr)}else setBookmarklets([])});const offSites=firebaseDB.listen("websites",data=>{if(!isMounted)return;if(data){const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(a.order||0)-(b.order||0));setWebsites(arr)}else setWebsites([])});const offFeedback=firebaseDB.listen("feedback",data=>{if(!isMounted)return;if(data){const arr=Object.keys(data).map(k=>({id:k,...data[k]}));arr.sort((a,b)=>(b.createdAt||0)-(a.createdAt||0));setFeedback(arr)}else setFeedback([])});listenersRef.current=[offCats,offWebCats,offMarks,offSites,offFeedback];setLoading(false)},"setupListeners");const unsub=firebaseAuth.onAuthStateChanged(async user=>{if(!isMounted)return;if(!user){setShowLogin(true);setIsAdmin(false);setLoading(false);return}try{const adminStatus=await firebaseAuth.isAdmin();if(!isMounted)return;if(!adminStatus){setShowLogin(true);setIsAdmin(false);setLoading(false);return}setIsAdmin(true);setShowLogin(false);setupListeners()}catch(e){console.error(e);if(isMounted){setShowLogin(true);setIsAdmin(false);setLoading(false)}}});(async()=>{setLoading(true);const user=firebaseAuth.getCurrentUser();if(!user){setShowLogin(true);setLoading(false)}else{try{const adminStatus=await firebaseAuth.isAdmin();if(!isMounted)return;if(!adminStatus){setShowLogin(true);setLoading(false)}else{setIsAdmin(true);setShowLogin(false);setupListeners()}}catch(e){console.error(e);if(isMounted){setShowLogin(true);setLoading(false)}}}})();return()=>{isMounted=false;if(unsub)unsub();listenersRef.current.forEach(off=>off&&off())}},[]);async function handleLogin(e){e.preventDefault();setLoginError("");try{await firebaseAuth.signIn(email,password)}catch(err){setLoginError(err.message||"Login failed")}}__name(handleLogin,"handleLogin");const handleLogoutConfirm=__name(()=>setShowLogoutConfirm(true),"handleLogoutConfirm");async function handleLogout(){setShowLogoutConfirm(false);try{await firebaseAuth.signOut();setIsAdmin(false);setShowLogin(true);setEmail("");setPassword("");window.location.hash="#/"}catch(e){console.error("Logout failed",e);alert("Logout failed: "+(e.message||e))}}__name(handleLogout,"handleLogout");function LogoutModal({open,onConfirm,onCancel}){if(!open)return null;return React.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},React.createElement("div",{className:"bg-white p-6 rounded max-w-md w-full"},React.createElement("h2",{className:"text-xl font-bold mb-4"},"Confirm Logout"),React.createElement("p",{className:"mb-4"},"Are you sure you want to log out?"),React.createElement("div",{className:"flex justify-end gap-2"},React.createElement("button",{className:"border px-4 py-2 rounded",onClick:onCancel},"Cancel"),React.createElement("button",{className:"bg-orange-500 text-white px-4 py-2 rounded",onClick:onConfirm},"Logout"))))}__name(LogoutModal,"LogoutModal");async function updateFeedbackStatus(id,status,rejectionReason=null){try{const updateData={status,statusChangedAt:Date.now()};if(status==="rejected"&&rejectionReason){updateData.rejectionReason=rejectionReason}else if(status!=="rejected"){updateData.rejectionReason=null}await firebaseDB.update(`feedback/${id}`,updateData);showToast("Status updated")}catch(e){console.error(e);showToast("Failed to update status")}}__name(updateFeedbackStatus,"updateFeedbackStatus");async function updateRejectionReason(id,reason){try{await firebaseDB.update(`feedback/${id}`,{rejectionReason:reason});showToast("Rejection reason saved")}catch(e){console.error(e);showToast("Failed to save rejection reason")}}__name(updateRejectionReason,"updateRejectionReason");async function updateFeedbackResponse(id,response){try{await firebaseDB.update(`feedback/${id}`,{adminResponse:response,respondedAt:Date.now()});showToast("Response saved")}catch(e){console.error(e);showToast("Failed to save response")}}__name(updateFeedbackResponse,"updateFeedbackResponse");async function sendAdminMessage(feedbackId,content){try{const fb=await firebaseDB.get(`feedback/${feedbackId}`);const messages=fb.messages||[];messages.push({from:"admin",content,timestamp:Date.now()});await firebaseDB.update(`feedback/${feedbackId}`,{messages,lastMessageAt:Date.now()});showToast("Message sent")}catch(e){console.error(e);showToast("Failed to send message")}}__name(sendAdminMessage,"sendAdminMessage");async function editAdminMessage(feedbackId,messageIndex,newContent){try{const fb=await firebaseDB.get(`feedback/${feedbackId}`);const messages=fb.messages||[];if(messages[messageIndex]&&messages[messageIndex].from==="admin"){messages[messageIndex]={...messages[messageIndex],content:newContent,editedAt:Date.now()};await firebaseDB.update(`feedback/${feedbackId}`,{messages});showToast("Message edited")}}catch(e){console.error(e);showToast("Failed to edit message")}}__name(editAdminMessage,"editAdminMessage");async function deleteFeedback(id){if(!confirm("Delete this feedback?"))return;try{await firebaseDB.delete(`feedback/${id}`);showToast("Feedback deleted")}catch(e){console.error(e);showToast("Failed to delete")}}__name(deleteFeedback,"deleteFeedback");async function handleSaveCategory(e){e.preventDefault();try{if(!categoryForm.name){alert("Category name required");return}if(editCategoryId){await firebaseDB.update(`categories/${editCategoryId}`,categoryForm);alert("Category updated")}else{await firebaseDB.push("categories",categoryForm);alert("Category added")}setCategoryForm({name:"",description:"",order:0});setEditCategoryId(null)}catch(err){console.error(err);alert("Failed to save category: "+(err.message||err))}}__name(handleSaveCategory,"handleSaveCategory");async function handleDeleteCategory(id){if(!confirm("Delete this category?"))return;try{await firebaseDB.delete(`categories/${id}`);if(editCategoryId===id){setEditCategoryId(null);setCategoryForm({name:"",description:"",order:0})}alert("Category deleted")}catch(err){console.error(err);alert("Failed to delete category: "+(err.message||err))}}__name(handleDeleteCategory,"handleDeleteCategory");function startEditCategory(c){setEditCategoryId(c.id);setCategoryForm({name:c.name||"",description:c.description||"",order:c.order||0});window.scrollTo({top:0,behavior:"smooth"})}__name(startEditCategory,"startEditCategory");function cancelEditCategory(){setEditCategoryId(null);setCategoryForm({name:"",description:"",order:0})}__name(cancelEditCategory,"cancelEditCategory");async function handleSaveWebCategory(e){e.preventDefault();try{if(!webCategoryForm.name){alert("Category name required");return}if(editWebCategoryId){await firebaseDB.update(`websiteCategories/${editWebCategoryId}`,webCategoryForm);alert("Website category updated")}else{await firebaseDB.push("websiteCategories",webCategoryForm);alert("Website category added")}setWebCategoryForm({name:"",description:"",order:0});setEditWebCategoryId(null)}catch(err){console.error(err);alert("Failed to save website category: "+(err.message||err))}}__name(handleSaveWebCategory,"handleSaveWebCategory");async function handleDeleteWebCategory(id){if(!confirm("Delete this website category?"))return;try{await firebaseDB.delete(`websiteCategories/${id}`);if(editWebCategoryId===id){setEditWebCategoryId(null);setWebCategoryForm({name:"",description:"",order:0})}alert("Website category deleted")}catch(err){console.error(err);alert("Failed to delete website category: "+(err.message||err))}}__name(handleDeleteWebCategory,"handleDeleteWebCategory");function startEditWebCategory(c){setEditWebCategoryId(c.id);setWebCategoryForm({name:c.name||"",description:c.description||"",order:c.order||0})}__name(startEditWebCategory,"startEditWebCategory");function cancelEditWebCategory(){setEditWebCategoryId(null);setWebCategoryForm({name:"",description:"",order:0})}__name(cancelEditWebCategory,"cancelEditWebCategory");async function handleSaveBookmarklet(e){e.preventDefault();try{if(!bookmarkletForm.title||!bookmarkletForm.code||!bookmarkletForm.categoryId){alert("Please fill Title, Code, and select a Category.");return}const minifiedCode=(bookmarkletForm.code||"").replace(/\s+/g," ").trim();if(editId){await firebaseDB.update(`bookmarklets/${editId}`,{...bookmarkletForm,code:minifiedCode});alert("Bookmarklet updated")}else{const pushKey=await firebaseDB.push("bookmarklets",{...bookmarkletForm,code:minifiedCode,createdAt:Date.now()});alert("Bookmarklet added (id: "+pushKey+")")}setBookmarkletForm({title:"",description:"",code:"",categoryId:"",order:0,credits:""});setEditId(null)}catch(err){console.error(err);alert("Failed to save bookmarklet: "+(err.message||err))}}__name(handleSaveBookmarklet,"handleSaveBookmarklet");async function handleDeleteBookmarklet(id){if(!confirm("Delete this bookmarklet?"))return;try{await firebaseDB.delete(`bookmarklets/${id}`);if(editId===id){setEditId(null);setBookmarkletForm({title:"",description:"",code:"",categoryId:"",order:0,credits:""})}alert("Bookmarklet deleted")}catch(err){console.error(err);alert("Failed to delete bookmarklet: "+(err.message||err))}}__name(handleDeleteBookmarklet,"handleDeleteBookmarklet");function startEditBookmarklet(b){setEditId(b.id);setBookmarkletForm({title:b.title||"",description:b.description||"",code:b.code||"",categoryId:b.categoryId||"",order:b.order||0,credits:b.credits||""});window.scrollTo({top:0,behavior:"smooth"})}__name(startEditBookmarklet,"startEditBookmarklet");function cancelEdit(){setEditId(null);setBookmarkletForm({title:"",description:"",code:"",categoryId:"",order:0,credits:""})}__name(cancelEdit,"cancelEdit");async function handleSaveWebsite(e){e.preventDefault();try{if(!websiteForm.name||!websiteForm.url||!websiteForm.categoryId){alert("Please fill Name, URL, and select a Category.");return}if(editWebsiteId){await firebaseDB.update(`websites/${editWebsiteId}`,websiteForm);alert("Website updated")}else{const pushKey=await firebaseDB.push("websites",{...websiteForm,createdAt:Date.now()});alert("Website added (id: "+pushKey+")")}setWebsiteForm({name:"",description:"",url:"",image:"",categoryId:"",order:0,comingSoon:false});setEditWebsiteId(null)}catch(err){console.error(err);alert("Failed to save website: "+(err.message||err))}}__name(handleSaveWebsite,"handleSaveWebsite");async function handleDeleteWebsite(id){if(!confirm("Delete this website?"))return;try{await firebaseDB.delete(`websites/${id}`);if(editWebsiteId===id){setEditWebsiteId(null);setWebsiteForm({name:"",description:"",url:"",image:"",categoryId:"",order:0,comingSoon:false})}alert("Website deleted")}catch(err){console.error(err);alert("Failed to delete website: "+(err.message||err))}}__name(handleDeleteWebsite,"handleDeleteWebsite");function startEditWebsite(w){setEditWebsiteId(w.id);setWebsiteForm({name:w.name||"",description:w.description||"",url:w.url||"",image:w.image||"",categoryId:w.categoryId||"",order:w.order||0,comingSoon:w.comingSoon||false});window.scrollTo({top:0,behavior:"smooth"})}__name(startEditWebsite,"startEditWebsite");function cancelEditWebsite(){setEditWebsiteId(null);setWebsiteForm({name:"",description:"",url:"",image:"",categoryId:"",order:0,comingSoon:false})}__name(cancelEditWebsite,"cancelEditWebsite");if(showLogin){return React.createElement("div",{className:"min-h-screen flex items-center justify-center p-4"},React.createElement(Card,{className:"w-full max-w-md"},React.createElement(CardHeader,{className:"text-center"},React.createElement(Logo,{size:"large"}),React.createElement(CardTitle,{className:"text-2xl mt-4"},"Admin Login")),React.createElement(CardContent,null,React.createElement("form",{onSubmit:handleLogin,className:"space-y-4"},React.createElement("div",null,React.createElement(Label,null,"Email"),React.createElement(Input,{type:"email",value:email,onChange:e=>setEmail(e.target.value),placeholder:"admin@example.com",required:true,autoComplete:"email"})),React.createElement("div",null,React.createElement(Label,null,"Password"),React.createElement(Input,{type:"password",value:password,onChange:e=>setPassword(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022",required:true,autoComplete:"current-password"})),loginError&&React.createElement("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded"},loginError),React.createElement(Button,{type:"submit",className:"w-full bg-orange-500 text-white"},"Sign In"),React.createElement("div",{className:"mt-2 text-center"},React.createElement(Link,{to:createPageUrl("Home")},React.createElement(Button,{className:"border"},"Back to Home")))))))}if(loading){return React.createElement("div",{className:"min-h-screen flex items-center justify-center"},React.createElement("div",{className:"animate-spin h-10 w-10 border-b-2 rounded-full border-orange-600"}))}return React.createElement("div",{className:"min-h-screen"},React.createElement(LogoutModal,{open:showLogoutConfirm,onConfirm:handleLogout,onCancel:()=>setShowLogoutConfirm(false)}),React.createElement("header",{className:"border-b bg-white p-4 sticky top-0 z-20"},React.createElement("div",{className:"container mx-auto flex justify-between items-center"},React.createElement(Logo,null),React.createElement("div",{className:"flex items-center gap-2"},React.createElement(Link,{to:createPageUrl("Home")},React.createElement(Button,{className:"border hover:bg-neutral-200 transition"},"Back to Home")),isAdmin&&React.createElement(Button,{className:"border hover:bg-neutral-200 transition",onClick:handleLogoutConfirm},"Logout")))),React.createElement("main",{className:"container mx-auto px-4 py-8"},React.createElement("h1",{className:"text-3xl font-bold mb-6"},"Admin Panel"),React.createElement("div",{className:"flex justify-center mb-6"},React.createElement("div",{className:"inline-flex bg-white border border-orange-100 rounded-full p-1 shadow-sm"},React.createElement("button",{onClick:()=>setAdminTab("bookmarklets"),className:`px-6 py-2 rounded-full text-sm font-medium transition-all ${adminTab==="bookmarklets"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-md":"text-gray-600 hover:text-orange-600"}`},"Bookmarklets"),React.createElement("button",{onClick:()=>setAdminTab("websites"),className:`px-6 py-2 rounded-full text-sm font-medium transition-all ${adminTab==="websites"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-md":"text-gray-600 hover:text-orange-600"}`},"Websites"),React.createElement("button",{onClick:()=>setAdminTab("feedback"),className:`px-6 py-2 rounded-full text-sm font-medium transition-all relative ${adminTab==="feedback"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-md":"text-gray-600 hover:text-orange-600"}`},"Feedback",feedback.filter(f=>f.status==="new").length>0&&React.createElement("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center"},feedback.filter(f=>f.status==="new").length)))),adminTab==="feedback"?React.createElement("section",null,React.createElement(Card,null,React.createElement(CardHeader,null,React.createElement(CardTitle,{className:"flex items-center justify-between"},React.createElement("span",null,"User Feedback (",feedback.length,")"),React.createElement("div",{className:"flex gap-2 text-sm font-normal"},React.createElement("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded"},"New: ",feedback.filter(f=>f.status==="new").length),React.createElement("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded"},"In Progress: ",feedback.filter(f=>f.status==="in-progress").length),React.createElement("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded"},"Done: ",feedback.filter(f=>f.status==="done").length)))),React.createElement(CardContent,null,React.createElement("div",{className:"space-y-4"},feedback.length===0&&React.createElement("p",{className:"text-gray-500 text-center py-8"},"No feedback yet."),feedback.map(f=>{const typeBorderClasses={bug:"border-red-400",bookmarklet:"border-purple-400",feature:"border-blue-400",other:"border-green-400"};const typeBgClasses={bug:"bg-red-100",bookmarklet:"bg-purple-100",feature:"bg-blue-100",other:"bg-green-100"};const typeTextClasses={bug:"text-red-700",bookmarklet:"text-purple-700",feature:"text-blue-700",other:"text-green-700"};const statusBgClasses={new:"bg-yellow-100","in-progress":"bg-blue-100",done:"bg-green-100",rejected:"bg-red-100"};const statusTextClasses={new:"text-yellow-700","in-progress":"text-blue-700",done:"text-green-700",rejected:"text-red-700"};const typeLabels={bug:"\u{1F41B} Bug",bookmarklet:"\u2728 Bookmarklet Request",feature:"\u{1F4A1} Feature",other:"\u{1F4AC} Other"};return React.createElement("div",{key:f.id,className:`p-4 rounded-lg border-l-4 bg-gray-50 ${typeBorderClasses[f.type]||"border-gray-400"}`},React.createElement("div",{className:"flex items-start justify-between gap-4"},React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"flex items-center gap-2 mb-1"},React.createElement("span",{className:`text-xs px-2 py-0.5 rounded ${typeBgClasses[f.type]||"bg-gray-100"} ${typeTextClasses[f.type]||"text-gray-700"}`},typeLabels[f.type]||f.type),React.createElement("span",{className:`text-xs px-2 py-0.5 rounded ${statusBgClasses[f.status]||"bg-gray-100"} ${statusTextClasses[f.status]||"text-gray-700"}`},f.status),f.messages&&f.messages.length>0&&React.createElement("span",{className:"text-xs px-2 py-0.5 rounded bg-purple-100 text-purple-700"},"\u{1F4AC} ",f.messages.length," messages")),React.createElement("h4",{className:"font-semibold text-gray-900"},f.title),f.bugItemType&&f.bugItemName&&React.createElement("div",{className:"text-xs mt-1 px-2 py-1 bg-gray-100 rounded inline-block"},React.createElement("span",{className:"text-gray-500"},"Bug on:")," ",React.createElement("span",{className:"font-medium text-gray-700"},f.bugItemType==="bookmarklet"?"\u{1F4CC}":"\u{1F310}"," ",f.bugItemName)),React.createElement("p",{className:"text-sm text-gray-600 mt-1 whitespace-pre-wrap"},f.description),React.createElement("div",{className:"text-xs text-gray-400 mt-2"},f.email&&React.createElement("span",{className:"mr-4"},"\u{1F4E7} ",f.email),React.createElement("span",null,new Date(f.createdAt).toLocaleString())),React.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},React.createElement("label",{className:"text-xs font-medium text-purple-600 block mb-2"},"\u{1F4AC} Chat with User:"),React.createElement("div",{className:"bg-white border rounded-lg max-h-48 overflow-y-auto scrollbar-thin mb-2"},!f.messages||!Array.isArray(f.messages)||f.messages.length===0?React.createElement("p",{className:"text-xs text-gray-400 text-center py-3"},"No chat messages yet"):React.createElement("div",{className:"p-2 space-y-2"},f.messages.map((msg,i)=>{if(!msg||!msg.content)return null;return React.createElement("div",{key:msg.timestamp||i,className:`text-xs p-2 rounded-lg ${msg.from==="admin"?"bg-orange-50 ml-4":"bg-gray-100 mr-4"} group relative`},React.createElement("div",{className:"font-medium mb-0.5"},msg.from==="admin"?"\u2B50 You (Admin)":"\u{1F464} User"),React.createElement("p",{className:"text-gray-700 whitespace-pre-wrap break-words",id:`msg-content-${f.id}-${i}`},msg.content),React.createElement("span",{className:"text-gray-400 text-[10px]"},msg.timestamp?new Date(msg.timestamp).toLocaleString():"",msg.editedAt?" (edited)":""),msg.from==="admin"&&React.createElement("button",{onClick:()=>{const editInput=document.getElementById(`edit-msg-${f.id}-${i}`);const contentEl=document.getElementById(`msg-content-${f.id}-${i}`);const editContainer=document.getElementById(`edit-container-${f.id}-${i}`);if(editInput&&contentEl&&editContainer){editInput.value=msg.content;contentEl.style.display="none";editContainer.style.display="block";editInput.focus()}},className:"absolute top-1 right-1 w-5 h-5 bg-white border border-gray-200 rounded flex items-center justify-center opacity-0 group-hover:opacity-100 transition shadow-sm hover:bg-gray-50",title:"Edit message"},React.createElement("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"#666",strokeWidth:"2"},React.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),React.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))),React.createElement("div",{id:`edit-container-${f.id}-${i}`,style:{display:"none"},className:"mt-2"},React.createElement("textarea",{id:`edit-msg-${f.id}-${i}`,className:"w-full text-xs border rounded px-2 py-1 text-gray-800",rows:2}),React.createElement("div",{className:"flex gap-1 mt-1 justify-end"},React.createElement("button",{onClick:()=>{const contentEl=document.getElementById(`msg-content-${f.id}-${i}`);const editContainer=document.getElementById(`edit-container-${f.id}-${i}`);if(contentEl&&editContainer){contentEl.style.display="block";editContainer.style.display="none"}},className:"text-[10px] px-2 py-0.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"},"Cancel"),React.createElement("button",{onClick:async()=>{const editInput=document.getElementById(`edit-msg-${f.id}-${i}`);const contentEl=document.getElementById(`msg-content-${f.id}-${i}`);const editContainer=document.getElementById(`edit-container-${f.id}-${i}`);if(editInput&&editInput.value.trim()){await editAdminMessage(f.id,i,editInput.value.trim());if(contentEl&&editContainer){contentEl.style.display="block";editContainer.style.display="none"}}},className:"text-[10px] px-2 py-0.5 bg-orange-500 text-white rounded hover:bg-orange-600"},"Save"))))}))),React.createElement("div",{className:"flex gap-2"},React.createElement("input",{type:"text",id:`chat-input-${f.id}`,placeholder:"Send a message to user...",className:"flex-1 text-sm border rounded px-2 py-1",onKeyDown:e=>{if(e.key==="Enter"&&e.target.value.trim()){sendAdminMessage(f.id,e.target.value.trim());e.target.value=""}}}),React.createElement(Button,{className:"bg-purple-500 text-white text-xs px-3 py-1",onClick:()=>{const input=document.getElementById(`chat-input-${f.id}`);if(input&&input.value.trim()){sendAdminMessage(f.id,input.value.trim());input.value=""}}},"Send"))),React.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},React.createElement("label",{className:"text-xs font-medium text-gray-600 block mb-1"},"Admin Response (shown separately):"),React.createElement("textarea",{className:"w-full text-sm border rounded px-2 py-1 min-h-[60px]",placeholder:"Write a response to the user...",defaultValue:f.adminResponse||"",onBlur:e=>{if(e.target.value!==(f.adminResponse||"")){updateFeedbackResponse(f.id,e.target.value)}}}),f.respondedAt&&React.createElement("span",{className:"text-xs text-gray-400"},"Last updated: ",new Date(f.respondedAt).toLocaleString())),f.status==="rejected"&&React.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},React.createElement("label",{className:"text-xs font-medium text-red-600 block mb-1"},"Rejection Reason:"),React.createElement("textarea",{className:"w-full text-sm border border-red-200 rounded px-2 py-1 min-h-[50px] bg-red-50",placeholder:"Explain why this request was rejected...",defaultValue:f.rejectionReason||"",onBlur:e=>{if(e.target.value!==(f.rejectionReason||"")){updateRejectionReason(f.id,e.target.value)}}}))),React.createElement("div",{className:"flex flex-col gap-2"},React.createElement("select",{value:f.status,onChange:e=>updateFeedbackStatus(f.id,e.target.value),className:"text-xs border rounded px-2 py-1"},React.createElement("option",{value:"new"},"New"),React.createElement("option",{value:"in-progress"},"In Progress"),React.createElement("option",{value:"completed"},"Completed"),React.createElement("option",{value:"rejected"},"Rejected")),React.createElement(Button,{className:"border text-xs px-2 py-1",onClick:()=>deleteFeedback(f.id)},"Delete"))))}))))):adminTab==="bookmarklets"?React.createElement(React.Fragment,null,React.createElement("section",{className:"mb-8"},React.createElement(Card,{className:"mb-4"},React.createElement(CardHeader,null,React.createElement(CardTitle,{className:"flex items-center gap-2"},editCategoryId?"Edit Bookmarklet Category":"Add Bookmarklet Category")),React.createElement(CardContent,null,React.createElement("form",{onSubmit:handleSaveCategory,className:"space-y-3"},React.createElement("div",null,React.createElement(Label,null,"Category Name"),React.createElement(Input,{value:categoryForm.name,onChange:e=>setCategoryForm({...categoryForm,name:e.target.value}),required:true})),React.createElement("div",null,React.createElement(Label,null,"Description"),React.createElement(Textarea,{value:categoryForm.description,onChange:e=>setCategoryForm({...categoryForm,description:e.target.value}),rows:3})),React.createElement("div",null,React.createElement(Label,null,"Order"),React.createElement(Input,{type:"number",value:categoryForm.order,onChange:e=>setCategoryForm({...categoryForm,order:parseInt(e.target.value||"0")}),min:"0"})),React.createElement("div",{className:"flex gap-2"},React.createElement(Button,{type:"submit",className:"bg-orange-500 text-white"},editCategoryId?"Save Category":"Add Category"),editCategoryId&&React.createElement(Button,{type:"button",className:"border",onClick:cancelEditCategory},"Cancel"))))),React.createElement(Card,null,React.createElement(CardHeader,null,React.createElement(CardTitle,null,"Bookmarklet Categories (",categories.length,")")),React.createElement(CardContent,null,React.createElement("div",{className:"space-y-3"},categories.length===0&&React.createElement("p",{className:"text-gray-500 text-center py-4"},"No categories yet."),categories.map(c=>React.createElement("div",{key:c.id,className:"flex items-center justify-between p-3 bg-orange-50 rounded border"},React.createElement("div",null,React.createElement("div",{className:"font-semibold"},c.name),c.description&&React.createElement("div",{className:"text-sm text-gray-600"},c.description),React.createElement("div",{className:"text-xs text-gray-500"},"Order: ",c.order||0)),React.createElement("div",{className:"flex gap-2"},React.createElement(Button,{className:"border",onClick:()=>startEditCategory(c)},"Edit"),React.createElement(Button,{className:"border",onClick:()=>handleDeleteCategory(c.id)},"Delete")))))))),React.createElement("section",null,React.createElement(Card,{className:"mb-4"},React.createElement(CardHeader,null,React.createElement(CardTitle,null,editId?"Edit Bookmarklet":"Add New Bookmarklet")),React.createElement(CardContent,null,React.createElement("form",{onSubmit:handleSaveBookmarklet,className:"space-y-3"},React.createElement("div",null,React.createElement(Label,null,"Title"),React.createElement(Input,{value:bookmarkletForm.title,onChange:e=>setBookmarkletForm({...bookmarkletForm,title:e.target.value}),required:true})),React.createElement("div",null,React.createElement(Label,null,"Description"),React.createElement(Textarea,{value:bookmarkletForm.description,onChange:e=>setBookmarkletForm({...bookmarkletForm,description:e.target.value}),rows:2})),React.createElement("div",null,React.createElement(Label,null,"Code (javascript:...)"),React.createElement(Textarea,{value:bookmarkletForm.code,onChange:e=>setBookmarkletForm({...bookmarkletForm,code:e.target.value}),rows:5,className:"font-mono text-sm",required:true})),React.createElement("div",null,React.createElement(Label,null,"Credits URL (optional)"),React.createElement(Input,{value:bookmarkletForm.credits,onChange:e=>setBookmarkletForm({...bookmarkletForm,credits:e.target.value}),placeholder:"https://github.com/author",type:"url"})),React.createElement("div",null,React.createElement(Label,null,"Category"),React.createElement("select",{value:bookmarkletForm.categoryId,onChange:e=>setBookmarkletForm({...bookmarkletForm,categoryId:e.target.value}),className:"w-full border rounded px-3 py-2"},React.createElement("option",{value:""},"Select a category"),categories.map(cat=>React.createElement("option",{key:cat.id,value:cat.id},cat.name)))),React.createElement("div",null,React.createElement(Label,null,"Order"),React.createElement(Input,{type:"number",value:bookmarkletForm.order,onChange:e=>setBookmarkletForm({...bookmarkletForm,order:parseInt(e.target.value||"0")})})),React.createElement("div",{className:"flex gap-2"},React.createElement(Button,{type:"submit",className:"bg-orange-500 text-white"},editId?"Save Changes":"Add Bookmarklet"),editId&&React.createElement(Button,{type:"button",className:"border",onClick:cancelEdit},"Cancel"))))),React.createElement(Card,null,React.createElement(CardHeader,null,React.createElement(CardTitle,null,"Existing Bookmarklets (",bookmarklets.length,")")),React.createElement(CardContent,null,React.createElement("div",{className:"space-y-3"},bookmarklets.length===0&&React.createElement("p",{className:"text-gray-500 text-center py-4"},"No bookmarklets yet."),bookmarklets.map(b=>React.createElement("div",{key:b.id,className:"flex items-start justify-between p-3 bg-orange-50 rounded border"},React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold"},b.title),b.description&&React.createElement("div",{className:"text-sm text-gray-600"},b.description),React.createElement("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs font-mono overflow-x-auto"},(b.code||"").substring(0,200)),React.createElement("div",{className:"text-xs text-gray-500 mt-1"},"Order: ",b.order||0," | Category: ",categories.find(c=>c.id===b.categoryId)?.name||"Unknown")),React.createElement("div",{className:"ml-4 flex flex-col gap-2"},React.createElement(Button,{className:"border",onClick:()=>startEditBookmarklet(b)},"Edit"),React.createElement(Button,{className:"border",onClick:()=>handleDeleteBookmarklet(b.id)},"Delete"))))))))):React.createElement(React.Fragment,null,React.createElement("section",{className:"mb-8"},React.createElement(Card,{className:"mb-4"},React.createElement(CardHeader,null,React.createElement(CardTitle,{className:"flex items-center gap-2"},editWebCategoryId?"Edit Website Category":"Add Website Category")),React.createElement(CardContent,null,React.createElement("form",{onSubmit:handleSaveWebCategory,className:"space-y-3"},React.createElement("div",null,React.createElement(Label,null,"Category Name"),React.createElement(Input,{value:webCategoryForm.name,onChange:e=>setWebCategoryForm({...webCategoryForm,name:e.target.value}),required:true})),React.createElement("div",null,React.createElement(Label,null,"Description"),React.createElement(Textarea,{value:webCategoryForm.description,onChange:e=>setWebCategoryForm({...webCategoryForm,description:e.target.value}),rows:3})),React.createElement("div",null,React.createElement(Label,null,"Order"),React.createElement(Input,{type:"number",value:webCategoryForm.order,onChange:e=>setWebCategoryForm({...webCategoryForm,order:parseInt(e.target.value||"0")}),min:"0"})),React.createElement("div",{className:"flex gap-2"},React.createElement(Button,{type:"submit",className:"bg-orange-500 text-white"},editWebCategoryId?"Save Category":"Add Category"),editWebCategoryId&&React.createElement(Button,{type:"button",className:"border",onClick:cancelEditWebCategory},"Cancel"))))),React.createElement(Card,null,React.createElement(CardHeader,null,React.createElement(CardTitle,null,"Website Categories (",websiteCategories.length,")")),React.createElement(CardContent,null,React.createElement("div",{className:"space-y-3"},websiteCategories.length===0&&React.createElement("p",{className:"text-gray-500 text-center py-4"},"No website categories yet."),websiteCategories.map(c=>React.createElement("div",{key:c.id,className:"flex items-center justify-between p-3 bg-orange-50 rounded border"},React.createElement("div",null,React.createElement("div",{className:"font-semibold"},c.name),c.description&&React.createElement("div",{className:"text-sm text-gray-600"},c.description),React.createElement("div",{className:"text-xs text-gray-500"},"Order: ",c.order||0)),React.createElement("div",{className:"flex gap-2"},React.createElement(Button,{className:"border",onClick:()=>startEditWebCategory(c)},"Edit"),React.createElement(Button,{className:"border",onClick:()=>handleDeleteWebCategory(c.id)},"Delete")))))))),React.createElement("section",null,React.createElement(Card,{className:"mb-4"},React.createElement(CardHeader,null,React.createElement(CardTitle,null,editWebsiteId?"Edit Website":"Add New Website")),React.createElement(CardContent,null,React.createElement("form",{onSubmit:handleSaveWebsite,className:"space-y-3"},React.createElement("div",null,React.createElement(Label,null,"Name"),React.createElement(Input,{value:websiteForm.name,onChange:e=>setWebsiteForm({...websiteForm,name:e.target.value}),required:true,placeholder:"Website Name"})),React.createElement("div",null,React.createElement(Label,null,"Description"),React.createElement(Textarea,{value:websiteForm.description,onChange:e=>setWebsiteForm({...websiteForm,description:e.target.value}),rows:2,placeholder:"Brief description of the website"})),React.createElement("div",null,React.createElement(Label,null,"URL"),React.createElement(Input,{value:websiteForm.url,onChange:e=>setWebsiteForm({...websiteForm,url:e.target.value}),required:true,placeholder:"https://example.com",type:"url"})),React.createElement("div",null,React.createElement(Label,null,"Image URL (optional)"),React.createElement(Input,{value:websiteForm.image,onChange:e=>setWebsiteForm({...websiteForm,image:e.target.value}),placeholder:"https://example.com/image.png"})),React.createElement("div",null,React.createElement(Label,null,"Category"),React.createElement("select",{value:websiteForm.categoryId,onChange:e=>setWebsiteForm({...websiteForm,categoryId:e.target.value}),className:"w-full border rounded px-3 py-2"},React.createElement("option",{value:""},"Select a category"),websiteCategories.map(cat=>React.createElement("option",{key:cat.id,value:cat.id},cat.name)))),React.createElement("div",null,React.createElement(Label,null,"Order"),React.createElement(Input,{type:"number",value:websiteForm.order,onChange:e=>setWebsiteForm({...websiteForm,order:parseInt(e.target.value||"0")})})),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",id:"comingSoon",checked:websiteForm.comingSoon,onChange:e=>setWebsiteForm({...websiteForm,comingSoon:e.target.checked}),className:"w-4 h-4 accent-orange-500"}),React.createElement("label",{htmlFor:"comingSoon",className:"text-sm text-gray-700"},"Coming Soon")),React.createElement("div",{className:"flex gap-2"},React.createElement(Button,{type:"submit",className:"bg-orange-500 text-white"},editWebsiteId?"Save Changes":"Add Website"),editWebsiteId&&React.createElement(Button,{type:"button",className:"border",onClick:cancelEditWebsite},"Cancel"))))),React.createElement(Card,null,React.createElement(CardHeader,null,React.createElement(CardTitle,null,"Existing Websites (",websites.length,")")),React.createElement(CardContent,null,React.createElement("div",{className:"space-y-3"},websites.length===0&&React.createElement("p",{className:"text-gray-500 text-center py-4"},"No websites yet."),websites.map(w=>React.createElement("div",{key:w.id,className:"flex items-start justify-between p-3 bg-orange-50 rounded border"},React.createElement("div",{className:"flex-1 flex gap-3"},w.image&&React.createElement("img",{src:w.image,alt:w.name,className:"w-16 h-16 object-cover rounded",onError:e=>{e.target.style.display="none"}}),React.createElement("div",null,React.createElement("div",{className:"font-semibold"},w.name),w.description&&React.createElement("div",{className:"text-sm text-gray-600"},w.description),React.createElement("div",{className:"text-xs text-orange-500 mt-1"},w.url),React.createElement("div",{className:"text-xs text-gray-500 mt-1"},"Order: ",w.order||0," | Category: ",websiteCategories.find(c=>c.id===w.categoryId)?.name||"Unknown"))),React.createElement("div",{className:"ml-4 flex flex-col gap-2"},React.createElement(Button,{className:"border",onClick:()=>startEditWebsite(w)},"Edit"),React.createElement(Button,{className:"border",onClick:()=>handleDeleteWebsite(w.id)},"Delete")))))))))))}__name(AdminPage,"AdminPage");function createPageUrl(name){if(name.toLowerCase()==="home")return"#/";if(name.toLowerCase()==="admin")return"#/admin";return"#/"}__name(createPageUrl,"createPageUrl");function TermsPage(){useEffect(()=>{window.scrollTo(0,0)},[]);return React.createElement("div",{className:"min-h-screen bg-gray-50"},React.createElement("header",{className:"sticky top-0 bg-white/80 backdrop-blur-md shadow-sm z-40 border-b"},React.createElement("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between"},React.createElement("a",{href:"#/",className:"flex items-center gap-3 hover:opacity-80 transition"},React.createElement("img",{src:"favicon.png",alt:"Seltra",className:"h-9 w-auto"}),React.createElement("span",{className:"text-xl font-bold text-gray-900"},"Seltra")),React.createElement("a",{href:"#/",className:"text-orange-600 hover:text-orange-700 font-medium"},"\u2190 Back to Home"))),React.createElement("main",{className:"container mx-auto px-4 py-12 max-w-4xl"},React.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-2"},"Terms of Service"),React.createElement("p",{className:"text-gray-500 mb-8"},"Last updated: ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})),React.createElement("div",{className:"prose prose-gray max-w-none space-y-8"},React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"1. Acceptance of Terms"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},'By accessing and using Seltra ("Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by these terms, please do not use this Service. These Terms constitute a legally binding agreement between you and Seltra.')),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"2. Description of Service"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"Seltra provides a platform for discovering, sharing, and generating bookmarklets and useful websites. Our services include:"),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-1"},React.createElement("li",null,"A curated collection of bookmarklets"),React.createElement("li",null,"A directory of useful websites"),React.createElement("li",null,"An AI-powered bookmarklet generator"),React.createElement("li",null,"Community features for sharing and feedback"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"3. User Responsibilities & Conduct"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"You agree to use the Service responsibly and in compliance with all applicable laws. You shall NOT:"),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-1"},React.createElement("li",null,"Use bookmarklets to violate any website's terms of service"),React.createElement("li",null,"Attempt to gain unauthorized access to any system or data"),React.createElement("li",null,"Use the Service for any illegal, harmful, or malicious purpose"),React.createElement("li",null,"Distribute malware, viruses, or harmful code"),React.createElement("li",null,"Engage in any activity that disrupts or interferes with the Service"),React.createElement("li",null,"Use automated systems to abuse the AI generator"),React.createElement("li",null,"Circumvent any security measures or access restrictions"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"4. Disclaimer of Warranties"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},React.createElement("strong",null,'THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT ANY WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED.')),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"Seltra makes no warranties regarding:"),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-1"},React.createElement("li",null,"The accuracy, completeness, or reliability of any content"),React.createElement("li",null,"The functionality or security of any bookmarklet"),React.createElement("li",null,"The safety or accuracy of linked third-party websites"),React.createElement("li",null,"The output quality or correctness of the AI generator"),React.createElement("li",null,"Uninterrupted or error-free service availability"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border border-red-200 bg-red-50"},React.createElement("h2",{className:"text-xl font-bold text-red-800 mb-3"},"5. Limitation of Liability"),React.createElement("p",{className:"text-red-700 leading-relaxed mb-3"},React.createElement("strong",null,"TO THE MAXIMUM EXTENT PERMITTED BY LAW, SELTRA AND ITS OPERATORS SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS OR REVENUES, WHETHER INCURRED DIRECTLY OR INDIRECTLY, OR ANY LOSS OF DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES.")),React.createElement("p",{className:"text-red-700 leading-relaxed"},"This includes, but is not limited to, damages arising from: your use or inability to use the Service; any unauthorized access to your data; any third-party conduct on the Service; any content obtained from the Service; or any bugs, viruses, or other harmful code that may be transmitted through the Service.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"6. User-Generated Content & AI Output"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"Regarding bookmarklets and AI-generated code:"),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-1"},React.createElement("li",null,React.createElement("strong",null,"You are solely responsible")," for any code you execute on your browser"),React.createElement("li",null,"AI-generated bookmarklets are provided without any guarantee of correctness or safety"),React.createElement("li",null,"You should review and understand any code before executing it"),React.createElement("li",null,"Seltra is not responsible for any damage caused by executing bookmarklets"),React.createElement("li",null,"User-submitted content may be removed at our sole discretion"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"7. Third-Party Links & Websites"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"The Service may contain links to third-party websites. Seltra has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third-party sites. You acknowledge and agree that Seltra shall not be responsible for any damage or loss caused by your use of any third-party website or service.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"8. Indemnification"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"You agree to indemnify, defend, and hold harmless Seltra, its operators, affiliates, and their respective officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, and expenses, including reasonable legal fees, arising out of or in any way connected with your access to or use of the Service, your violation of these Terms, or your violation of any third-party rights.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"9. Modifications to Terms"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},'We reserve the right to modify these Terms at any time. We will provide notice of significant changes by updating the "Last updated" date. Your continued use of the Service after any modification constitutes acceptance of the new Terms.')),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"10. Termination"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"We reserve the right to terminate or suspend access to the Service immediately, without prior notice, for any reason whatsoever, including breach of these Terms. All provisions of the Terms which by their nature should survive termination shall survive.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"11. Governing Law"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"These Terms shall be governed by and construed in accordance with applicable laws, without regard to conflict of law principles. Any disputes arising from these Terms shall be resolved through binding arbitration.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"12. Contact"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"For questions about these Terms, please contact us through our ",React.createElement("a",{href:"https://github.com/mojhehh/seltra/issues",className:"text-orange-600 hover:underline",target:"_blank",rel:"noopener noreferrer"},"GitHub Issues")," page.")))),React.createElement("footer",{className:"border-t bg-white py-6 mt-12"},React.createElement("div",{className:"container mx-auto px-4 text-center text-gray-500 text-sm"},React.createElement("p",null,"\xA9 ",new Date().getFullYear()," Seltra. All rights reserved."))))}__name(TermsPage,"TermsPage");function PrivacyPage(){useEffect(()=>{window.scrollTo(0,0)},[]);return React.createElement("div",{className:"min-h-screen bg-gray-50"},React.createElement("header",{className:"sticky top-0 bg-white/80 backdrop-blur-md shadow-sm z-40 border-b"},React.createElement("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between"},React.createElement("a",{href:"#/",className:"flex items-center gap-3 hover:opacity-80 transition"},React.createElement("img",{src:"favicon.png",alt:"Seltra",className:"h-9 w-auto"}),React.createElement("span",{className:"text-xl font-bold text-gray-900"},"Seltra")),React.createElement("a",{href:"#/",className:"text-orange-600 hover:text-orange-700 font-medium"},"\u2190 Back to Home"))),React.createElement("main",{className:"container mx-auto px-4 py-12 max-w-4xl"},React.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-2"},"Privacy Policy"),React.createElement("p",{className:"text-gray-500 mb-8"},"Last updated: ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})),React.createElement("div",{className:"prose prose-gray max-w-none space-y-8"},React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"1. Introduction"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},'Seltra ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your information when you use our Service.')),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"2. Information We Collect"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},React.createElement("strong",null,"Information we may collect includes:")),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-2"},React.createElement("li",null,React.createElement("strong",null,"Usage Data:")," Anonymous analytics data such as pages visited, time spent, and browser type"),React.createElement("li",null,React.createElement("strong",null,"AI Prompts:")," Prompts submitted to the AI generator are processed but not permanently stored with identifiers"),React.createElement("li",null,React.createElement("strong",null,"Cookies:")," We may use cookies for essential functionality and analytics")),React.createElement("p",{className:"text-gray-700 leading-relaxed mt-3"},React.createElement("strong",null,"Information we do NOT collect:")),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-1"},React.createElement("li",null,"Personal identification information (unless you contact us voluntarily)"),React.createElement("li",null,"Financial or payment information"),React.createElement("li",null,"Location data"),React.createElement("li",null,"Device identifiers beyond standard analytics"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"3. How We Use Your Information"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"We use collected information to:"),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-1"},React.createElement("li",null,"Provide and maintain the Service"),React.createElement("li",null,"Improve user experience and site functionality"),React.createElement("li",null,"Generate AI-powered bookmarklets based on your prompts"),React.createElement("li",null,"Analyze usage patterns to improve our content"),React.createElement("li",null,"Detect and prevent abuse of the Service"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"4. Data Sharing & Third Parties"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"We may share data with:"),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-2"},React.createElement("li",null,React.createElement("strong",null,"Firebase (Google):")," For database hosting and authentication"),React.createElement("li",null,React.createElement("strong",null,"Cloudflare:")," For content delivery and security"),React.createElement("li",null,React.createElement("strong",null,"AI Service Providers:")," Your prompts are sent to AI APIs for generation"),React.createElement("li",null,React.createElement("strong",null,"Analytics Providers:")," Anonymous usage statistics")),React.createElement("p",{className:"text-gray-700 leading-relaxed mt-3"},"We do NOT sell your personal information to third parties.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"5. Data Security"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"We implement industry-standard security measures to protect your data. However, no method of transmission over the Internet is 100% secure. We cannot guarantee absolute security of data transmitted to our Service.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"6. Your Rights"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"Depending on your jurisdiction, you may have the right to:"),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-1"},React.createElement("li",null,"Access information we hold about you"),React.createElement("li",null,"Request deletion of your data"),React.createElement("li",null,"Opt out of analytics tracking"),React.createElement("li",null,"Lodge a complaint with a supervisory authority"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"7. Children's Privacy"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"Our Service is not directed to children under 13. We do not knowingly collect personal information from children. If you believe a child has provided us with personal information, please contact us.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"8. Changes to This Policy"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.')),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"9. Contact Us"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"For questions about this Privacy Policy, please contact us through our ",React.createElement("a",{href:"https://github.com/mojhehh/seltra/issues",className:"text-orange-600 hover:underline",target:"_blank",rel:"noopener noreferrer"},"GitHub Issues")," page.")))),React.createElement("footer",{className:"border-t bg-white py-6 mt-12"},React.createElement("div",{className:"container mx-auto px-4 text-center text-gray-500 text-sm"},React.createElement("p",null,"\xA9 ",new Date().getFullYear()," Seltra. All rights reserved."))))}__name(PrivacyPage,"PrivacyPage");function CopyrightPage(){useEffect(()=>{window.scrollTo(0,0)},[]);return React.createElement("div",{className:"min-h-screen bg-gray-50"},React.createElement("header",{className:"sticky top-0 bg-white/80 backdrop-blur-md shadow-sm z-40 border-b"},React.createElement("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between"},React.createElement("a",{href:"#/",className:"flex items-center gap-3 hover:opacity-80 transition"},React.createElement("img",{src:"favicon.png",alt:"Seltra",className:"h-9 w-auto"}),React.createElement("span",{className:"text-xl font-bold text-gray-900"},"Seltra")),React.createElement("a",{href:"#/",className:"text-orange-600 hover:text-orange-700 font-medium"},"\u2190 Back to Home"))),React.createElement("main",{className:"container mx-auto px-4 py-12 max-w-4xl"},React.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-2"},"Copyright & DMCA Policy"),React.createElement("p",{className:"text-gray-500 mb-8"},"Last updated: ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})),React.createElement("div",{className:"prose prose-gray max-w-none space-y-8"},React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"1. Copyright Notice"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"\xA9 ",new Date().getFullYear()," Seltra. All rights reserved. The Seltra name, logo, and original content are protected by copyright and other intellectual property laws.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"2. User-Submitted Content"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"Bookmarklets and other code shared on Seltra may be subject to various licenses. By submitting content to Seltra, you represent that:"),React.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-1"},React.createElement("li",null,"You own the rights to the content or have permission to share it"),React.createElement("li",null,"The content does not infringe on any third-party intellectual property rights"),React.createElement("li",null,"You grant Seltra a non-exclusive license to display and distribute the content"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border border-blue-200 bg-blue-50"},React.createElement("h2",{className:"text-xl font-bold text-blue-800 mb-3"},"3. DMCA Takedown Procedure"),React.createElement("p",{className:"text-blue-700 leading-relaxed mb-3"},"Seltra respects the intellectual property rights of others. If you believe that content on our Service infringes your copyright, please submit a DMCA takedown notice containing:"),React.createElement("ol",{className:"list-decimal list-inside text-blue-700 space-y-2"},React.createElement("li",null,"A physical or electronic signature of the copyright owner or authorized agent"),React.createElement("li",null,"Identification of the copyrighted work claimed to have been infringed"),React.createElement("li",null,"Identification of the infringing material and its location on our Service"),React.createElement("li",null,"Your contact information (address, phone number, email)"),React.createElement("li",null,"A statement that you have a good faith belief that the use is not authorized"),React.createElement("li",null,"A statement, under penalty of perjury, that the information in the notice is accurate and you are authorized to act on behalf of the copyright owner"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"4. Counter-Notification"),React.createElement("p",{className:"text-gray-700 leading-relaxed mb-3"},"If you believe your content was wrongly removed, you may submit a counter-notification containing:"),React.createElement("ol",{className:"list-decimal list-inside text-gray-700 space-y-1"},React.createElement("li",null,"Your physical or electronic signature"),React.createElement("li",null,"Identification of the removed material and its former location"),React.createElement("li",null,"A statement under penalty of perjury that you believe the material was removed by mistake"),React.createElement("li",null,"Your name, address, phone number, and consent to jurisdiction"))),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"5. Repeat Infringers"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"We will terminate access for users who are determined to be repeat infringers in appropriate circumstances.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"6. Fair Use"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"Seltra respects fair use principles. Many bookmarklets operate on publicly accessible web content for personal, non-commercial purposes. However, users are responsible for ensuring their use of bookmarklets complies with applicable laws.")),React.createElement("section",{className:"bg-white p-6 rounded-xl shadow-sm border"},React.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"7. Contact for Copyright Issues"),React.createElement("p",{className:"text-gray-700 leading-relaxed"},"To submit a DMCA notice or for copyright-related inquiries, please contact us through our ",React.createElement("a",{href:"https://github.com/mojhehh/seltra/issues/new?labels=dmca,copyright&title=DMCA%20Notice",className:"text-orange-600 hover:underline",target:"_blank",rel:"noopener noreferrer"},"GitHub Issues"),' page with the label "DMCA".')))),React.createElement("footer",{className:"border-t bg-white py-6 mt-12"},React.createElement("div",{className:"container mx-auto px-4 text-center text-gray-500 text-sm"},React.createElement("p",null,"\xA9 ",new Date().getFullYear()," Seltra. All rights reserved."))))}__name(CopyrightPage,"CopyrightPage");function AppRouter(){const[route,setRoute]=useState(window.location.hash||"#/");useEffect(()=>{const onHash=__name(()=>setRoute(window.location.hash||"#/"),"onHash");window.addEventListener("hashchange",onHash);return()=>window.removeEventListener("hashchange",onHash)},[]);if(route.startsWith("#/admin"))return React.createElement(AdminPage,null);if(route==="#/terms")return React.createElement(TermsPage,null);if(route==="#/privacy")return React.createElement(PrivacyPage,null);if(route==="#/copyright")return React.createElement(CopyrightPage,null);return React.createElement(Home,{key:"home-page"})}__name(AppRouter,"AppRouter");ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(ErrorBoundary,null,React.createElement(AppRouter,null)));})();
</script>
</body>

</html>
